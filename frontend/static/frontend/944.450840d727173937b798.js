"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[944],{944:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(540),r=n(926),s=n(946);function l(){const{setSuccessMessage:e,resetApplicationMessages:t,setErrorMessage:n}=(0,s.Xn)();return a.createElement("div",{className:"footer"},a.createElement("a",{href:"/contact"},a.createElement("small",null,"Contact us")))}var i=n(767),o=n(550);function c(){const{user:e,contextLoading:t,loggedIn:n}=(0,s.Xn)(),[l,c]=(0,a.useState)([]),[m,d]=(0,a.useState)(!1),u=(0,i.Zp)();return(0,a.useEffect)((()=>{!t&&n&&c(e.notifications)}),[e]),(0,a.useEffect)((()=>{if(null!=l)for(let e in l)!1===e.read&&d(!0)}),[l]),t?null:n?a.createElement("div",{className:"dropdown-div"},m?a.createElement("div",{id:"notifications-dropdown-button",onClick:e=>(0,r.gR)("notifications-dropdown-content",e,n)},a.createElement("svg",{style:{marginRight:"0.5rem"},xmlns:"http://www.w3.org/2000/svg",fill:"#000000",width:"1.75rem",height:"1.75rem",viewBox:"0 0 24 24",className:"icon line"},a.createElement("path",{d:"M19.38,14.38a2.12,2.12,0,0,1,.62,1.5h0A2.12,2.12,0,0,1,17.88,18H6.12A2.12,2.12,0,0,1,4,15.88H4a2.12,2.12,0,0,1,.62-1.5L6,13V9a6,6,0,0,1,6-6h0a6,6,0,0,1,6,6v4ZM15,18H9a3,3,0,0,0,3,3h0A3,3,0,0,0,15,18Z",style:{fill:"none",stroke:"rgb(0, 0, 0)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}}),a.createElement("circle",{cx:"18",cy:"6",r:"4",fill:"red"}))):a.createElement("div",{id:"notifications-dropdown-button",onClick:e=>(0,r.gR)("notifications-dropdown-content",e,n)},a.createElement("svg",{style:{marginRight:"0.5rem"},xmlns:"http://www.w3.org/2000/svg",fill:"#000000",width:"1.75rem",height:"1.75rem",viewBox:"0 0 24 24",className:"icon line"},a.createElement("path",{d:"M19.38,14.38a2.12,2.12,0,0,1,.62,1.5h0A2.12,2.12,0,0,1,17.88,18H6.12A2.12,2.12,0,0,1,4,15.88H4a2.12,2.12,0,0,1,.62-1.5L6,13V9a6,6,0,0,1,6-6h0a6,6,0,0,1,6,6v4ZM15,18H9a3,3,0,0,0,3,3h0A3,3,0,0,0,15,18Z",style:{fill:"none",stroke:"rgb(0, 0, 0)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}}))),a.createElement("ul",{style:{width:"320px"},id:"notifications-dropdown-content",className:"dropdown-menu"},0===l.length?a.createElement("li",null,a.createElement("span",{className:"dropdown-item m-2"},"No notifications")):l.map((e=>a.createElement("li",{id:`notification-${e.id}`,key:`notification-${e.id}`,className:"dropdown-item"},a.createElement("a",{className:"d-flex link-no-decorations",href:`${e.path}`,onClick:t=>async function(e,t){e.preventDefault();const n=e.currentTarget.getAttribute("href");let a=await(0,o.Sb)(t);if(a.error||200!==a.status)return console.log(error),void setErrorOcurred(!0);u(n)}(t,e.id)},a.createElement("span",{className:"m-2"},`${e.origin_user.username} ${e.text}`))))))):null}function m(){const[e,t]=(0,a.useState)(!1),{user:n,loggedIn:l,contextLoading:i,setLogout:c}=(0,s.Xn)();return i?null:l?a.createElement("div",{className:"dropdown-div"},a.createElement("div",{id:"user-dropdown-button"},""!=n.profile_picture_data?a.createElement("img",{className:"rounded-circle ml-auto mt-2 mb-2",style:{width:"2rem",height:"2rem"},onClick:e=>(0,r.gR)("user-dropdown-content",e,l),src:`data: image/${n.profile_picture_format}; base64, ${n.profile_picture_data}`,alt:n.username}):a.createElement("div",{onClick:e=>(0,r.gR)("user-dropdown-content",e,l)},n.username)),a.createElement("ul",{id:"user-dropdown-content",className:"dropdown-menu"},e&&a.createElement("div",{className:"alert alert-danger m-2"},a.createElement("small",{className:"dropdown-item"},"There was an error loading the user dropdown menu")),a.createElement("li",null,a.createElement("a",{href:`/users/${n.username}?page=1`,className:"d-flex align-items-center py-2 link-no-decorations"},""!=n.profile_picture_data&&a.createElement("img",{id:"dropdown-button",className:"rounded-circle ms-3",style:{width:"2rem",height:"2rem"},src:`data: image/${n.profile_picture_format}; base64, ${n.profile_picture_data}`,alt:n.username}),a.createElement("div",{className:"mx-2"},n.username))),a.createElement("hr",{className:"mt-1 mb-1"}),a.createElement("li",null,a.createElement("a",{className:"dropdown-item",href:"/settings"},"User Settings")),!0===n.is_admin&&a.createElement("li",null,a.createElement("a",{className:"dropdown-item",href:"/administration"},"Fantasy League Administration")),!0===n.is_admin&&a.createElement("li",null,a.createElement("a",{className:"dropdown-item",href:"/admin/"},"Site Administration")),a.createElement("li",null,a.createElement("a",{className:"dropdown-item link-button",onClick:async function(){const e=await(0,o.rO)();e.error&&(t(!0),console.log(e.error)),c()}},"Logout")))):a.createElement("div",{className:"d-flex align-items-center"},a.createElement("a",{className:"navbar-text link-no-decorations",href:"/login"},"Login"),a.createElement("a",{className:"navbar-text link-no-decorations ps-3",href:"/register"},"Register"))}function d(){const{currentSeason:e,errorMessage:t,successMessage:n,contextLoading:l,loadingMessage:i,selectPicksState:o,loggedIn:d,setSuccessMessage:u,resetApplicationMessages:g}=(0,s.Xn)(),[p,E]=(0,a.useState)((0,r.qT)().width);return(0,a.useEffect)((()=>{const e=()=>{E((0,r.qT)().width)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[p]),a.createElement("div",{className:"header menu-div d-flex"},p<500?a.createElement("div",{className:"menu-dropdown-div"},a.createElement("div",{id:"menu-dropdown-button",onClick:e=>(0,r.gR)("menu-dropdown-content",e)},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 24 24",fill:"none"},a.createElement("path",{d:"M4 6H20M4 12H20M4 18H20",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("a",{href:"/",className:"navbar-brand link-no-decorations my-1 ms-1"},"Home")),a.createElement("div",{id:"menu-dropdown-content",className:"menu-dropdown-content"},a.createElement("div",null,!e&&a.createElement("span",{className:"navbar-text w-100"},"No current season"),e&&a.createElement("a",{href:`/raceresults?season=${e.year}`,className:"navbar-text link-no-decorations w-100"},"Races")),a.createElement("div",null,a.createElement("a",{href:"/announcements?page=1",className:"navbar-text link-no-decorations w-100"},"Announcements")),a.createElement("div",null,e&&a.createElement("a",{href:`/standings?season=${e.year}`,className:"navbar-text link-no-decorations w-100"},"Standings")),a.createElement("div",null,o&&d&&a.createElement("a",{href:"/select-picks",className:"navbar-text link-no-decorations w-100"},"Select your picks!")))):a.createElement("div",{className:"d-flex align-items-center"},a.createElement("a",{href:"/",className:"menu-bar-title link-no-decorations",style:{marginLeft:"2rem"}},"Home"),!e&&a.createElement("span",{className:"menu-bar-item ps-2"},"No current season"),e&&a.createElement("a",{href:`/raceresults?season=${e.year}`,className:"menu-bar-item link-no-decorations ps-2"},"Races"),a.createElement("a",{href:"/announcements?page=1",className:"menu-bar-item link-no-decorations ps-2"},"Announcements"),e&&a.createElement("a",{href:`/standings?season=${e.year}`,className:"menu-bar-item link-no-decorations ps-2"},"Standings"),o&&d&&a.createElement("a",{href:"/select-picks",className:"menu-bar-item link-no-decorations d-flex align-items-center"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"rgb(0, 118, 255)",className:"bi bi-dot",viewBox:"0 0 16 16"},a.createElement("path",{d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"})),a.createElement("div",null,"Select your picks!"))),a.createElement("div",{className:"d-flex align-items-center ms-auto"},a.createElement("div",{className:"menu-bar-item"},a.createElement(c,null)),a.createElement("div",{className:"menu-bar-item",style:{marginRight:"2rem"}},a.createElement(m,null))))}function u(){const{errorMessage:e,successMessage:t,loadingMessage:n,informationMessage:r}=(0,s.Xn)();return a.createElement("div",{className:"inner-content px-3"},a.createElement(i.sv,null))}const g=function(){const{resetApplicationMessages:e,errorMessage:t,successMessage:n,loadingMessage:i,informationMessage:o}=(0,s.Xn)();return(0,a.useEffect)((()=>{e()}),[]),a.createElement("div",{id:"main-div",className:"main",onClick:t=>(t.stopPropagation(),(0,r.tI)(),(0,r.Tc)(),void e())},a.createElement("div",{id:"background-blur",className:"overlay hidden"}),a.createElement(d,null),a.createElement("div",{className:"content"},t&&a.createElement("div",{className:"alert alert-danger my-2",style:{whiteSpace:"pre-line"}},t),n&&a.createElement("div",{className:"alert alert-success my-2",style:{whiteSpace:"pre-line"}},n),i&&a.createElement("div",{className:"alert alert-secondary my-2",style:{whiteSpace:"pre-line"}},i),o&&a.createElement("div",{className:"alert alert-information my-2",style:{whiteSpace:"pre-line"}},o),a.createElement(u,null)),a.createElement(l,null))}}}]);