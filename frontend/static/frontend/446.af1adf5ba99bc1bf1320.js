"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[192,446],{192:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c,useSeasonCreateContext:()=>u});var o=t(540),s=t(767),n=t(974),a=t(946);const i=(0,o.createContext)();function c(){const{setErrorMessage:e}=(0,a.Xn)(),[r,t]=(0,o.useState)(!1),[c,u]=(0,o.useState)([]);return o.createElement(i.Provider,{value:{seasons:c,seasonsLoading:r,retrieveSeasons:async function(){let r=await(0,n.a)();if(r.error)return console.log(r.error),void e("There was an error loading the seasons");u(r.seasons),t(!1)}}},o.createElement(s.sv,null))}function u(){return(0,o.useContext)(i)}},446:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u,useSeasonContext:()=>d});var o=t(540),s=t(974),n=t(767),a=t(398),i=t(946);t(192);const c=(0,o.createContext)();function u(){const{setErrorMessage:e,setSuccessMessage:r,setLoadingMessage:t,resetApplicationMessages:u}=(0,i.Xn)(),d=(0,n.g)().seasonYear,[l,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(!1);async function w(){const r=await(0,s.oK)(d);let t={};return 404===r.status?(h(!1),f(!1),void e("Season not found")):r.error||200!=r.status?(e("There was an error loading the season"),f(!1),void console.log(r.error)):(t=r.season,t.competitorsSortedNumber=r.competitorsSortedNumber,h(t),void f(!1))}return o.createElement(c.Provider,{value:{season:l,seasonLoading:g,retrieveSeason:w,deleteSeason:async function(){const t=await(0,a.Hs)(l.id);200!=t.status||t.error?e("There was an error deleting the season"):(r("Season deleted"),h(null))},createSeasonRace:async function(t){u();const o=await(0,a.Ir)(t);return o.error||200!=o.status?(e("There was an error creating the race"),console.log(o.error),!1):(r("Race created"),w(),!0)},addSeasonRaceResults:async function(t){u();const o=await(0,a.yN)(t);return o.error?(e("There was an error adding the results"),console.log(o.error),!1):200!=o.status?(e("Be sure that the information inputted is correct"),!1):(r("Race result saved"),w(),!0)},editSeasonRace:async function(t){u();let o=await(0,a._O)(t);return o.error?(e("There was an error editing the race"),console.log(o.error),!1):200!=o.status?(e("Be sure the information is valid"),!1):(r("Changes saved"),w(),!0)},deleteSeasonRace:async function(o){u(),t("Loading...");let s=await(0,a.DK)(o,d);if(s.error||200!=s.status)return console.log(s.error),e("There was an error deleting the race"),void e("There was an error deleting the race");t(!1),r("Race deleted"),w()},createSeasonCompetitor:async function(t){u();const o=await(0,a.To)(t);return o.error?(e("There was an error submiting the competitor"),console.log(o.error),!1):o.riderExists?(e("A rider with that number already exists"),!1):o.seasonNotFound?(e("The season was not found of which you want to add the competitor"),!1):201!=o.status?(e("Make sure the information is correct and valid"),!1):(r("Rider created"),w(),!0)},editSeasonCompetitor:async function(t){u();const o=await(0,a.qZ)(t);return o.error?(console.log(o.error),e("There was an error editing the rider"),!1):200!=o.status?(e("Make sure the information is valid"),!1):(r("Changes saved"),w(),!0)},deleteSeasonCompetitor:async function(t,o){u();const s=await(0,a.Se)(t,o);return s.error?(e("There was an error deleting the rider"),console.log(s.error),!1):422==s.status?(e("The competitor is being used in picks or a race, please edit instead of deleting"),!1):200!=s.status?(e("There was an error deleting the competitor"),!1):(r("Rider deleted"),w(),!0)}}},o.createElement(n.sv,null))}function d(){return(0,o.useContext)(c)}}}]);