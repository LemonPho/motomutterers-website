/*! For license information please see src_components_UserPage_js.2a78925c88175366d4cf.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_components_UserPage_js"],{"./src/components/PageNotFound.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PageNotFound extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, "Error page not found");\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageNotFound);\n\n//# sourceURL=webpack://frontend/./src/components/PageNotFound.js?')},"./src/components/UserPage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ UserPage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApplicationContext */ "./src/components/ApplicationContext.js");\n/* harmony import */ var _fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fetch-utils/fetchGet */ "./src/components/fetch-utils/fetchGet.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/components/utils.js");\n/* harmony import */ var _PageNotFound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PageNotFound */ "./src/components/PageNotFound.js");\n/* harmony import */ var _util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util-components/ProfilePictureLazyLoader */ "./src/components/util-components/ProfilePictureLazyLoader.js");\n\n\n\n\n\n\n\n\n//could be separated into separate components, works for now like this\nfunction UserPage() {\n  const [displayUserUsername, setDisplayUserUsername] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useParams)().username);\n  const [displayUserFound, setDisplayUserFound] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [displayUser, setDisplayUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [displayUserLoading, setDisplayUserLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [pages, setPages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [nextPage, setNextPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [previousPage, setPreviousPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [pageNumbers, setPageNumbers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [paginationLoading, setPaginationLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [comments, setComments] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [amountComments, setAmountComments] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [commentsLoading, setCommentsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const {\n    user,\n    contextLoading,\n    setErrorMessage\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_1__.useApplicationContext)();\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation)();\n  async function retrieveDisplayUser() {\n    const tempDisplayUser = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__.getUser)(displayUserUsername);\n    if (tempDisplayUser.status === 404) {\n      setDisplayUserFound(false);\n      setDisplayUserLoading(false);\n      return;\n    }\n    if (tempDisplayUser.error) {\n      console.log(tempDisplayUser.error);\n      setErrorMessage("There was an error while loading the user data");\n      setDisplayUserLoading(false);\n      return;\n    }\n    setDisplayUser(tempDisplayUser.user);\n    setDisplayUserLoading(false);\n  }\n  async function retrieveDisplayUserComments() {\n    setCommentsLoading(true);\n    const params = new URLSearchParams(location.search);\n    const page = params.get("page");\n    const tempComments = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__.getUserComments)(displayUserUsername, page);\n    setCurrentPage(page);\n    if (tempComments.error) {\n      console.log(tempComments.error);\n      setComments(false);\n      setCommentsLoading(false);\n      return;\n    }\n    if (tempComments.status != 200) {\n      setComments(false);\n      setCommentsLoading(false);\n      return;\n    }\n    setComments(tempComments.comments);\n    setAmountComments(tempComments.amountComments);\n    setCommentsLoading(false);\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    retrieveDisplayUser();\n    if (displayUserFound) {\n      retrieveDisplayUserComments();\n    }\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (amountComments !== null) {\n      let result = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.pagination)(amountComments, 15, currentPage);\n      if (result !== null) {\n        setPages(true);\n        setNextPage(result.nextPage);\n        setPreviousPage(result.previousPage);\n        setPageNumbers(result.pageNumbers);\n      }\n    }\n    setPaginationLoading(false);\n  }, [amountComments]);\n  if (displayUserLoading || paginationLoading || contextLoading || commentsLoading) {\n    return null;\n  }\n  if (!displayUserFound) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageNotFound__WEBPACK_IMPORTED_MODULE_4__["default"], null);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "row"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "col-md-4"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    id: "user-view",\n    className: "card rounded-15 p-3 element-background-color element-border-color"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center justify-content-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    width: "7rem",\n    height: "7rem",\n    username: displayUser.username\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex justify-content-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      fontSize: "30px"\n    }\n  }, displayUser.username)), displayUser.id === user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex justify-content-center align-items-center link-no-decorations"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "link-no-decorations",\n    href: `/settings`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, "Edit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    style: {\n      marginLeft: "0.15rem"\n    },\n    xmlns: "http://www.w3.org/2000/svg",\n    width: "1rem",\n    height: "1rem",\n    viewBox: "0 0 24 24",\n    fill: "none"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M21.2799 6.40005L11.7399 15.94C10.7899 16.89 7.96987 17.33 7.33987 16.7C6.70987 16.07 7.13987 13.25 8.08987 12.3L17.6399 2.75002C17.8754 2.49308 18.1605 2.28654 18.4781 2.14284C18.7956 1.99914 19.139 1.92124 19.4875 1.9139C19.8359 1.90657 20.1823 1.96991 20.5056 2.10012C20.8289 2.23033 21.1225 2.42473 21.3686 2.67153C21.6147 2.91833 21.8083 3.21243 21.9376 3.53609C22.0669 3.85976 22.1294 4.20626 22.1211 4.55471C22.1128 4.90316 22.0339 5.24635 21.8894 5.5635C21.7448 5.88065 21.5375 6.16524 21.2799 6.40005V6.40005Z",\n    stroke: "#000000",\n    strokeWidth: "1.5",\n    strokeLinecap: "round",\n    strokeLinejoin: "round"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M11 4H6C4.93913 4 3.92178 4.42142 3.17163 5.17157C2.42149 5.92172 2 6.93913 2 8V18C2 19.0609 2.42149 20.0783 3.17163 20.8284C3.92178 21.5786 4.93913 22 6 22H17C19.21 22 20 20.2 20 18V13",\n    stroke: "#000000",\n    strokeWidth: "1.5",\n    strokeLinecap: "round",\n    strokeLinejoin: "round"\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, "Account created on"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, new Date(displayUser.date_created).toISOString().substring(0, 10)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "col-md-8"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    id: "comments-view",\n    className: "card rounded-15 element-background-color element-border-color"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card-header"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", null, "Comments")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card-body"\n  }, comments.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h6", null, "User hasn\'t posted any comments")), comments.map(comment => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    key: `comment-${comment.id}`\n  }, comment.parent_comment !== null ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    style: {\n      marginRight: "0.3rem"\n    },\n    xmlns: "http://www.w3.org/2000/svg",\n    fill: "#5A5A5A",\n    width: "1rem",\n    height: "1rem",\n    viewBox: "0 0 512 512"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288z"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    width: "2rem",\n    height: "2rem",\n    username: comment.parent_comment.user.username\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "mx-1"\n  }, "\\u2022"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "link-no-decorations",\n    href: `/announcements/${comment.announcement.id}?comment=${comment.parent_comment.id}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("i", null, comment.parent_comment.text))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    style: {\n      marginLeft: "1.8rem"\n    },\n    width: "1.5rem",\n    height: "1.5rem",\n    viewBox: "0 0 15 15",\n    fill: "none",\n    xmlns: "http://www.w3.org/2000/svg"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    fillRule: "evenodd",\n    clipRule: "evenodd",\n    d: "M9.87737 12H9.9H11.5C11.7761 12 12 11.7761 12 11.5C12 11.2239 11.7761 11 11.5 11H9.9C8.77164 11 7.95545 10.9996 7.31352 10.9472C6.67744 10.8952 6.25662 10.7946 5.91103 10.6185C5.25247 10.283 4.71703 9.74753 4.38148 9.08897C4.20539 8.74338 4.10481 8.32256 4.05284 7.68648C4.00039 7.04455 4 6.22836 4 5.1V3.5C4 3.22386 3.77614 3 3.5 3C3.22386 3 3 3.22386 3 3.5V5.1V5.12263C3 6.22359 3 7.08052 3.05616 7.76791C3.11318 8.46584 3.23058 9.0329 3.49047 9.54296C3.9219 10.3897 4.61031 11.0781 5.45704 11.5095C5.9671 11.7694 6.53416 11.8868 7.23209 11.9438C7.91948 12 8.77641 12 9.87737 12Z",\n    fill: "grey"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "link-no-decorations",\n    href: `/announcements/${comment.announcement.id}?comment=${comment.parent_comment.id}&response=${comment.id}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    style: {\n      marginTop: "0.5rem"\n    }\n  }, comment.text)))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    style: {\n      marginRight: "0.15rem"\n    },\n    xmlns: "http://www.w3.org/2000/svg",\n    width: "1.2rem",\n    height: "1.2rem",\n    viewBox: "0 0 24 24",\n    fill: "none"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M7 8H17M7 12H17M7 16H13M4 4H20V20H4V4Z",\n    stroke: "#5A5A5A",\n    strokeWidth: "1.5",\n    strokeLinecap: "round",\n    strokeLinejoin: "round"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    width: "2rem",\n    height: "2rem",\n    username: comment.announcement.user.username\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "mx-1"\n  }, "\\u2022"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "link-no-decorations",\n    href: `/announcements/${comment.announcement.id}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("i", null, comment.announcement.title))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    style: {\n      marginLeft: "2rem"\n    },\n    width: "1.5rem",\n    height: "1.5rem",\n    viewBox: "0 0 15 15",\n    fill: "none",\n    xmlns: "http://www.w3.org/2000/svg"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    fillRule: "evenodd",\n    clipRule: "evenodd",\n    d: "M9.87737 12H9.9H11.5C11.7761 12 12 11.7761 12 11.5C12 11.2239 11.7761 11 11.5 11H9.9C8.77164 11 7.95545 10.9996 7.31352 10.9472C6.67744 10.8952 6.25662 10.7946 5.91103 10.6185C5.25247 10.283 4.71703 9.74753 4.38148 9.08897C4.20539 8.74338 4.10481 8.32256 4.05284 7.68648C4.00039 7.04455 4 6.22836 4 5.1V3.5C4 3.22386 3.77614 3 3.5 3C3.22386 3 3 3.22386 3 3.5V5.1V5.12263C3 6.22359 3 7.08052 3.05616 7.76791C3.11318 8.46584 3.23058 9.0329 3.49047 9.54296C3.9219 10.3897 4.61031 11.0781 5.45704 11.5095C5.9671 11.7694 6.53416 11.8868 7.23209 11.9438C7.91948 12 8.77641 12 9.87737 12Z",\n    fill: "grey"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "link-no-decorations",\n    style: {\n      marginTop: "0.5rem"\n    },\n    href: `/announcements/${comment.announcement.id}?comment=${comment.id}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, comment.text)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card-footer"\n  }, comments.length !== 0 && pages && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("nav", {\n    id: "pagination-view"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {\n    className: "pagination justify-content-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    id: "previous-page",\n    className: `${previousPage}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    id: "previous-page-link",\n    href: `/users/${displayUserUsername}?page=${parseInt(currentPage) - 1}`,\n    className: "page-link"\n  }, "Previous")), pageNumbers.map(page => parseInt(currentPage) !== page ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    id: `page-${page}`,\n    key: `page-${page}`,\n    className: "page-item"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    id: `page-link-${page}`,\n    href: `/users/${displayUserUsername}?page=${page}`,\n    className: "page-link"\n  }, page)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    id: `page-${page}`,\n    key: `page-${page}`,\n    className: "page-item disabled"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    id: `page-link-${page}`,\n    href: `/users/${displayUserUsername}?page=${page}`,\n    className: "page-link"\n  }, page))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    id: "next-page",\n    className: `${nextPage}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    id: "next-page-link",\n    href: `/users/${displayUserUsername}?page=${parseInt(currentPage) + 1}`,\n    className: "page-link"\n  }, "Next")))))))));\n}\n\n//# sourceURL=webpack://frontend/./src/components/UserPage.js?')}}]);