/*! For license information please see src_components_standings-page-components_StandingsPage_js.bf02ca688844ec7ec97b.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_components_standings-page-components_StandingsPage_js"],{"./src/components/standings-page-components/StandingDetailed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ StandingDetailed)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _StandingsContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StandingsContext */ "./src/components/standings-page-components/StandingsContext.js");\n/* harmony import */ var _util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util-components/ProfilePictureLazyLoader */ "./src/components/util-components/ProfilePictureLazyLoader.js");\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ApplicationContext */ "./src/components/ApplicationContext.js");\n\n\n\n\nfunction StandingDetailed() {\n  const {\n    errorMessage\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_3__.useApplicationContext)();\n  const {\n    userPicksDetailed,\n    userPicksDetailedLoading,\n    selectedSeason\n  } = (0,_StandingsContext__WEBPACK_IMPORTED_MODULE_1__.useStandingsContext)();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "custom-modal hidden",\n    id: "user-picks-detailed-modal",\n    onClick: e => {\n      e.stopPropagation();\n    }\n  }, errorMessage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "alert alert-danger"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, errorMessage)), !userPicksDetailedLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "p-2 custom-modal-header d-flex align-items-center link-no-decorations clickable rounded-15",\n    href: `/users/${userPicksDetailed.user.username}?page=1`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_2__["default"], {\n    width: "5rem",\n    height: "5rem",\n    username: userPicksDetailed.user.username\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {\n    className: "ms-4"\n  }, userPicksDetailed.user.username, " - ", userPicksDetailed.points)), userPicksDetailedLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "p-2 custom-modal-header d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_2__["default"], {\n    width: "5rem",\n    height: "5rem",\n    username: false\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "loading-placeholder"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {\n    className: "w-100 ms-4 fade-in-out"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), userPicksDetailedLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {\n    className: "list-group"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    style: {\n      height: "40px"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item fade-in-out"\n  }))), !userPicksDetailedLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {\n    className: "custom-modal-body d-flex list-group"\n  }, userPicksDetailed.picks.map(pick => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item",\n    id: `pick-${pick.position}`,\n    key: `pick-${pick.position}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, pick.position, ". "), pick.first, " ", pick.last, " - ", pick.points)), selectedSeason.top_independent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item",\n    id: "pick-independent"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, "Independent. "), " ", userPicksDetailed.independent_pick.first, " ", userPicksDetailed.independent_pick.last, " - ", userPicksDetailed.independent_pick.points), selectedSeason.top_rookie && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    className: "list-group-item",\n    id: "pick-rookie"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, "Rookie. "), " ", userPicksDetailed.rookie_pick.first, " ", userPicksDetailed.rookie_pick.last, " - ", userPicksDetailed.rookie_pick.points)));\n}\n\n//# sourceURL=webpack://frontend/./src/components/standings-page-components/StandingDetailed.js?')},"./src/components/standings-page-components/StandingsContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ StandingsContextProvider),\n/* harmony export */   useStandingsContext: () => (/* binding */ useStandingsContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");\n/* harmony import */ var _fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../fetch-utils/fetchGet */ "./src/components/fetch-utils/fetchGet.js");\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ApplicationContext */ "./src/components/ApplicationContext.js");\n\n\n\n\nconst StandingsContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\nfunction StandingsContextProvider() {\n  const {\n    setErrorMessage\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_2__.useApplicationContext)();\n  const [standings, setStandings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [standingsLoading, setStandingsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [userPicksDetailed, setUserPicksDetailed] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [userPicksDetailedLoading, setUserPicksDetailedLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [seasonList, setSeasonList] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [seasonListLoading, setSeasonListLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [selectedSeason, setSelectedSeason] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [selectedSeasonLoading, setSelectedSeasonLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  async function retrieveStandings() {\n    setStandingsLoading(true);\n    const params = new URLSearchParams(location.search);\n    const seasonYear = params.get("season");\n    const usersStandingsResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__.getSeasonStandings)(seasonYear);\n    if (usersStandingsResponse.error) {\n      console.log(usersStandingsResponse.error);\n      setErrorMessage("There was an error retrieving the standings");\n      return;\n    }\n    if (usersStandingsResponse.status === 200) {\n      setStandings(usersStandingsResponse.standings);\n      setStandingsLoading(false);\n    }\n  }\n  async function retrieveSelectedSeason() {\n    setSelectedSeasonLoading(true);\n    const params = new URLSearchParams(location.search);\n    const seasonYear = params.get("season");\n    const seasonResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__.getSeasonSimple)(seasonYear);\n    if (seasonResponse.error) {\n      setErrorMessage("There was an error retrieving season data");\n      return;\n    }\n    if (seasonResponse.status != 200) {\n      setErrorMessage("Be sure to select a valid season");\n      return;\n    }\n    setSelectedSeason(seasonResponse.season);\n    setSelectedSeasonLoading(false);\n  }\n  async function retrieveSeasonList() {\n    setSeasonListLoading(true);\n    const seasonListResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__.getSeasonsSimpleYear)();\n    if (seasonListResponse.error || seasonListResponse.status != 200) {\n      setErrorMessage("There was an error retrieving the season list");\n      return;\n    }\n    setSeasonList(seasonListResponse.seasons);\n    setSeasonListLoading(false);\n  }\n  async function retrieveUserPicks(userId) {\n    setUserPicksDetailedLoading(true);\n    const userPicksResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__.getUserPicksSimple)(selectedSeason.id, userId);\n    if (userPicksResponse.error) {\n      setErrorMessage("There was an error retrieving the user picks");\n      return;\n    }\n    if (userPicksResponse.status == 404) {\n      setErrorMessage("The user picks was not found");\n      return;\n    }\n    if (userPicksResponse.status != 200) {\n      setErrorMessage("There was an error loading the user picks");\n      return;\n    }\n    setUserPicksDetailed(userPicksResponse.userPicks);\n    setUserPicksDetailedLoading(false);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StandingsContext.Provider, {\n    value: {\n      retrieveStandings,\n      retrieveSelectedSeason,\n      retrieveSeasonList,\n      retrieveUserPicks,\n      standings,\n      userPicksDetailed,\n      seasonList,\n      selectedSeason,\n      standingsLoading,\n      userPicksDetailedLoading,\n      seasonListLoading,\n      selectedSeasonLoading\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.Outlet, null));\n}\nfunction useStandingsContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StandingsContext);\n}\n\n//# sourceURL=webpack://frontend/./src/components/standings-page-components/StandingsContext.js?')},"./src/components/standings-page-components/StandingsPage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Standings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/components/utils.js");\n/* harmony import */ var _util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util-components/ProfilePictureLazyLoader */ "./src/components/util-components/ProfilePictureLazyLoader.js");\n/* harmony import */ var _StandingsContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StandingsContext */ "./src/components/standings-page-components/StandingsContext.js");\n/* harmony import */ var _StandingDetailed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StandingDetailed */ "./src/components/standings-page-components/StandingDetailed.js");\n\n\n\n\n\nfunction Standings() {\n  const {\n    retrieveStandings,\n    retrieveSelectedSeason,\n    retrieveSeasonList,\n    selectedSeason,\n    seasonList,\n    standings,\n    standingsLoading,\n    selectedSeasonLoading,\n    seasonListLoading,\n    profilePicturesLoading,\n    retrieveUserPicks\n  } = (0,_StandingsContext__WEBPACK_IMPORTED_MODULE_3__.useStandingsContext)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    async function fetchData() {\n      await retrieveStandings();\n      await retrieveSeasonList();\n      await retrieveSelectedSeason();\n    }\n    fetchData();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card rounded-15 align-middle element-background-color element-border-color"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "rounded-15-top card-header"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", {\n    className: "m-0"\n  }, "Standings"), !selectedSeasonLoading && selectedSeason.finalized && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, "\\u200E (finalized)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "ms-auto btn-group"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    className: "btn btn-outline-secondary dropdown-toggle rounded-15",\n    "data-bs-toggle": "dropdown",\n    type: "button",\n    "aria-expanded": "false",\n    onClick: e => {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_1__.toggleDropdown)("season-selector-dropdown", e);\n    }\n  }, selectedSeason.year), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("ul", {\n    className: "dropdown-menu dropdown-menu-end",\n    id: "season-selector-dropdown",\n    style: {\n      top: "100%",\n      right: "0"\n    }\n  }, !seasonListLoading && seasonList.map(season => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", {\n    key: `${season.year}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "dropdown-item",\n    href: `/standings?season=${season.year}`,\n    id: `${season.year}`\n  }, season.year, season.year == selectedSeason.year && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    xmlns: "http://www.w3.org/2000/svg",\n    width: "16",\n    height: "16",\n    fill: "currentColor",\n    className: "ms-auto me-1 bi bi-check",\n    viewBox: "0 0 16 16"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"\n  }))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card-body"\n  }, !standings ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "There are no standings for this season") : standingsLoading == 0 && standings.users_picks.map((user_picks, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    key: `standings-user-${user_picks.user.username}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "p-2 clickable rounded-15",\n    onClick: e => {\n      e.stopPropagation();\n      (0,_utils__WEBPACK_IMPORTED_MODULE_1__.toggleModal)("user-picks-detailed-modal", e);\n      retrieveUserPicks(user_picks.user.id);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_util_components_ProfilePictureLazyLoader__WEBPACK_IMPORTED_MODULE_2__["default"], {\n    width: "3.5rem",\n    height: "3.5rem",\n    username: user_picks.user.username\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "ms-1"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, i + 1, ". ", user_picks.user.username, " - ", user_picks.points))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex align-items-center"\n  }, user_picks.picks.map(pick => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "me-1",\n    style: {\n      fontSize: "0.75rem"\n    },\n    key: `user-${user_picks.user.id}-pick-${pick.competitor_id}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, pick.first[0], ". ", pick.last.slice(0, 3)), " - ", pick.points)), !selectedSeasonLoading && selectedSeason.top_independent && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "me-1",\n    style: {\n      fontSize: "0.75rem"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, "| I: ", user_picks.independent_pick.first[0], ". ", user_picks.independent_pick.last.slice(0, 3)), " - ", user_picks.independent_pick.points), !selectedSeasonLoading && selectedSeason.top_rookie && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "me-1",\n    style: {\n      fontSize: "0.75rem"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, "| R: ", user_picks.rookie_pick.first[0], ". ", user_picks.rookie_pick.last.slice(0, 3)), " - ", user_picks.rookie_pick.points))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_StandingDetailed__WEBPACK_IMPORTED_MODULE_4__["default"], null));\n}\n\n//# sourceURL=webpack://frontend/./src/components/standings-page-components/StandingsPage.js?')}}]);