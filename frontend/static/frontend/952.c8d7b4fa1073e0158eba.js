"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[952,628],{628:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l,useStandingsContext:()=>c});var a=s(540),n=s(767),i=s(974),r=s(946);const o=(0,a.createContext)();function l(){const{setErrorMessage:e}=(0,r.Xn)(),[t,s]=(0,a.useState)({}),[l,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(!0),[u,p]=(0,a.useState)({}),[g,f]=(0,a.useState)(!0),[h,E]=(0,a.useState)([]),[k,w]=(0,a.useState)(!0),[y,v]=(0,a.useState)({}),[N,_]=(0,a.useState)(!0);return a.createElement(o.Provider,{value:{retrieveStandings:async function(){c(!0);const t=new URLSearchParams(location.search).get("season"),a=await(0,i.bO)(t);a.error?e("There was an error retrieving the standings"):200===a.status&&(s(a.standings),c(!1))},retrieveSelectedSeason:async function(){_(!0);const t=new URLSearchParams(location.search).get("season"),s=await(0,i.cv)(t);s.error?e("There was an error retrieving season data"):200==s.status?(v(s.season),_(!1)):e("Be sure to select a valid season")},retrieveSeasonList:async function(){w(!0);const t=await(0,i.a)();t.error||200!=t.status?e("There was an error retrieving the season list"):(E(t.seasons),w(!1))},retrieveUserPicks:async function(t){f(!0);const s=await(0,i.wu)(y.id,t);s.error?e("There was an error retrieving the user picks"):404!=s.status?200==s.status&&(p(s.userPicks),f(!1)):e("The user picks was not found")},retrieveProfilePictures:async function(){if(0==Object.keys(t).length)return;const a=t.users_picks.map((e=>e.user)),n=await(0,i.HD)(a);if(200!==n.status)return void e("There was an error loading the profile pictures");const r=t.users_picks.map(((e,t)=>{const s={...e.user,profile_picture:n.users[t].profile_picture};return{...e,user:s}}));let o=t;o.users_picks=r,s(o),m(!1)},standings:t,userPicksDetailed:u,seasonList:h,selectedSeason:y,standingsLoading:l,userPicksDetailedLoading:g,seasonListLoading:k,selectedSeasonLoading:N,profilePicturesLoading:d}},a.createElement(n.sv,null))}function c(){return(0,a.useContext)(o)}},952:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(540),n=s(926);function i({format:e,base64:t,width:s,height:n}){return e&&t?a.createElement("img",{className:"rounded-circle",style:{width:s,height:n},src:`data: image/${e}; base64, ${t}`,alt:""}):a.createElement("span",{className:"fading-circle",style:{width:s,height:n}})}var r=s(628);function o(){const{userPicksDetailed:e,userPicksDetailedLoading:t,selectedSeason:s}=(0,r.useStandingsContext)();return a.createElement("div",{className:"custom-modal hidden",id:"user-picks-detailed-modal",onClick:e=>{e.stopPropagation()}},!t&&console.log(e),!t&&a.createElement("a",{className:"p-2 custom-modal-header d-flex align-items-center link-no-decorations clickable rounded-15",href:`/users/${e.user.username}?page=1`},a.createElement(i,{width:"5rem",height:"5rem",format:e.user.profile_picture_format,base64:e.user.profile_picture_data}),a.createElement("h3",{className:"ms-4"},e.user.username," - ",e.points)),t&&a.createElement("div",{className:"p-2 custom-modal-header d-flex align-items-center"},a.createElement(i,{width:"5rem",height:"5rem",format:!1,base64:!1}),a.createElement("h3",{className:"ms-4 fade-in-out"})),a.createElement("hr",null),t&&a.createElement("ul",{className:"list-group"},a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              "),a.createElement("li",{className:"list-group-item fade-in-out"},"                              ")),!t&&a.createElement("ul",{className:"custom-modal-body d-flex list-group"},e.picks.map((e=>a.createElement("li",{className:"list-group-item",id:`pick-${e.position}`,key:`pick-${e.position}`},a.createElement("strong",null,e.position,". "),e.competitor_points.competitor.first," ",e.competitor_points.competitor.last," - ",e.competitor_points.points))),s.top_independent&&a.createElement("li",{className:"list-group-item",id:"pick-independent"},a.createElement("strong",null,"Independent. ")," ",e.independent_pick.competitor_points.competitor.first," ",e.independent_pick.competitor_points.competitor.last," - ",e.independent_pick.competitor_points.points),s.top_rookie&&a.createElement("li",{className:"list-group-item",id:"pick-rookie"},a.createElement("strong",null,"Rookie. ")," ",e.rookie_pick.competitor_points.competitor.first," ",e.rookie_pick.competitor_points.competitor.last," - ",e.rookie_pick.competitor_points.points)))}function l(){const{retrieveStandings:e,retrieveSelectedSeason:t,retrieveSeasonList:s,retrieveProfilePictures:l,selectedSeason:c,seasonList:d,standings:m,standingsLoading:u,selectedSeasonLoading:p,seasonListLoading:g,profilePicturesLoading:f,retrieveUserPicks:h}=(0,r.useStandingsContext)();return(0,a.useEffect)((()=>{!async function(){await e(),await s(),await t()}()}),[]),(0,a.useEffect)((()=>{!async function(){await l()}()}),[u]),a.createElement("div",{className:"card rounded-15 my-2 mt-4 align-middle"},a.createElement("div",{className:"rounded-15-top card-header"},a.createElement("div",{className:"d-flex align-items-center"},a.createElement("h5",{className:"m-0"},"Standings"),!p&&c.finalized&&a.createElement("small",null,"â€Ž (finalized)"),a.createElement("div",{className:"ms-auto dropdown"},a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",onClick:e=>{(0,n.gR)("season-selector-dropdown",e)}},c.year),a.createElement("ul",{className:"dropdown-menu",id:"season-selector-dropdown"},!g&&d.map((e=>a.createElement("li",{className:"ms-2",key:`${e.year}`},a.createElement("a",{className:"d-flex align-items-center",href:`/standings?season=${e.year}`,id:`${e.year}`},e.year,e.year==c.year&&a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"ms-auto me-1 bi bi-check",viewBox:"0 0 16 16"},a.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"})))))))))),console.log(m),a.createElement("div",{className:"card-body"},m?0==u&&m.users_picks.map(((e,t)=>a.createElement("div",{key:`standings-user-${e.user.username}`},a.createElement("div",{className:"p-2 clickable rounded-15",onClick:t=>{t.stopPropagation(),(0,n.YK)("user-picks-detailed-modal",t),h(e.user.id)}},a.createElement("div",{className:"d-flex align-items-center"},f&&a.createElement(i,{width:"3.5rem",height:"3.5rem",format:!1,base64:!1}),!f&&a.createElement(i,{width:"3.5rem",height:"3.5rem",format:e.user.profile_picture.profile_picture_format,base64:e.user.profile_picture.profile_picture_data}),a.createElement("div",{className:"ms-1"},a.createElement("strong",null,t+1,". ",e.user.username," - ",e.points))),a.createElement("div",{className:"d-flex align-items-center"},e.picks.map((t=>a.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"},key:`user-${e.user.id}-pick-${t.id}`},a.createElement("strong",null,t.first[0],". ",t.last.slice(0,3))," - ",t.points))),!p&&c.top_independent&&a.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"}},a.createElement("strong",null,"| I: ",e.independent_pick.first[0],". ",e.independent_pick.last.slice(0,3))," - ",e.independent_pick.points),!p&&c.top_rookie&&a.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"}},a.createElement("strong",null,"| R: ",e.rookie_pick.first[0],". ",e.rookie_pick.last.slice(0,3))," - ",e.rookie_pick.points))),a.createElement("hr",null)))):a.createElement("div",null,"There are no standings for this season")),a.createElement(o,null))}},926:(e,t,s)=>{function a(e,t,s){let a,n={pageNumbers:[],nextPage:"",previousPage:""},i=Math.ceil(e/t),r=0;if(e%t==0&&i++,a=i,e<=t)return null;for(n.previousPage=s>1?"page-item":"page-item disabled",n.nextPage=s<i?"page-item":"page-item disabled",s>5&&(i>s+5?(r=s-5,a=s+5):(r=10-(i-s),a=r+10));r<a;r++)n.pageNumbers.push(r+1);return n}function n(e,t){for(var s=e.split(","),a=s[0].match(/:(.*?);/)[1],n=atob(s[s.length-1]),i=n.length,r=new Uint8Array(i);i--;)r[i]=n.charCodeAt(i);return t=`${t}.${a.split("/")[1]}`,new File([r],t,{type:a})}function i(){return{width:window.innerWidth,height:window.innerHeight}}function r(){const e=document.getElementsByClassName("custom-modal"),t=document.getElementById("background-blur"),s=document.querySelectorAll('[data-category="input-field"]');Array.prototype.forEach.call(e,(e=>{e.classList.contains("hidden")||e.classList.toggle("hidden")})),Array.prototype.forEach.call(s,(e=>{"INPUT"===e.tagName?(e.value=null,e.checked=!1):e.innerHTML=""})),t.classList.contains("hidden")||t.classList.toggle("hidden")}function o(e,t,s,a){const n=document.getElementById(e),i=document.getElementById("background-blur");t.stopPropagation(),n.classList.contains("hidden")?void 0!==s&&!0!==s||void 0!==a&&!0!==a||(l(),r(),n.classList.toggle("hidden"),i.classList.toggle("hidden")):r()}function l(){const e=document.getElementsByClassName("dropdown-menu"),t=document.getElementsByClassName("menu-dropdown-content");Array.prototype.forEach.call(e,(e=>{e.classList.contains("show")&&e.classList.toggle("show")})),Array.prototype.forEach.call(t,(e=>{e.classList.contains("show")&&e.classList.toggle("show")}))}function c(e,t,s){t.stopPropagation();const a=document.getElementById(e);a.classList.contains("show")?l():(l(),null==e||null!=s&&1!=s||a.classList.toggle("show"))}function d(e,t){e.stopPropagation(),"Enter"==e.key&&(e.preventDefault(),t())}function m(e){const t=document.getElementById(e);t&&t.focus()}s.d(t,{Gd:()=>m,Tc:()=>l,X$:()=>a,Xz:()=>n,YK:()=>o,ac:()=>d,gR:()=>c,qT:()=>i,tI:()=>r})}}]);