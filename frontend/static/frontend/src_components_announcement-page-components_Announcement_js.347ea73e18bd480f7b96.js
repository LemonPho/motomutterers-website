/*! For license information please see src_components_announcement-page-components_Announcement_js.347ea73e18bd480f7b96.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["src_components_announcement-page-components_Announcement_js"],{"./src/components/PageNotFound.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PageNotFound extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, "Error page not found");\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageNotFound);\n\n//# sourceURL=webpack://frontend/./src/components/PageNotFound.js?')},"./src/components/announcement-page-components/Announcement.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Announcement)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnnouncementContext */ "./src/components/announcement-page-components/AnnouncementContext.js");\n/* harmony import */ var _AnnouncementComments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AnnouncementComments */ "./src/components/announcement-page-components/AnnouncementComments.js");\n/* harmony import */ var _AnnouncementContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AnnouncementContent */ "./src/components/announcement-page-components/AnnouncementContent.js");\n/* harmony import */ var _PageNotFound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../PageNotFound */ "./src/components/PageNotFound.js");\n\n\n\n\n\nfunction Announcement() {\n  const {\n    announcement,\n    announcementLoading,\n    retrieveAnnouncement\n  } = (0,_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__.useAnnouncementContext)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    retrieveAnnouncement();\n  }, []);\n  if (announcementLoading) {\n    return null;\n  }\n  if (!announcement) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_PageNotFound__WEBPACK_IMPORTED_MODULE_4__["default"], null);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    id: "announcement-view",\n    className: "my-3"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_AnnouncementContent__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_AnnouncementComments__WEBPACK_IMPORTED_MODULE_2__["default"], null));\n}\n\n//# sourceURL=webpack://frontend/./src/components/announcement-page-components/Announcement.js?')},"./src/components/announcement-page-components/AnnouncementComments.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ AnnouncementComments)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");\n/* harmony import */ var _fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../fetch-utils/fetchGet */ "./src/components/fetch-utils/fetchGet.js");\n/* harmony import */ var _fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../fetch-utils/fetchPost */ "./src/components/fetch-utils/fetchPost.js");\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ApplicationContext */ "./src/components/ApplicationContext.js");\n/* harmony import */ var _AnnouncementContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AnnouncementContext */ "./src/components/announcement-page-components/AnnouncementContext.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ "./src/components/utils.js");\n\n\n\n\n\n\n\nfunction AnnouncementComments() {\n  const {\n    user,\n    contextLoading\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_3__.useApplicationContext)();\n  const {\n    comments,\n    retrieveComment,\n    announcementLoading,\n    commentsErrorMessage,\n    setCommentsErrorMessage,\n    resetAnnouncementMessages,\n    editComment,\n    createCommentReply,\n    createComment,\n    deleteComment\n  } = (0,_AnnouncementContext__WEBPACK_IMPORTED_MODULE_4__.useAnnouncementContext)();\n  const [newReplyCommentId, setNewReplyCommentId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation)();\n  async function postComment() {\n    const text = document.getElementById("comment-text").innerHTML;\n    const result = createComment(text);\n    if (result) {\n      document.getElementById("comment-text").innerHTML = "";\n    }\n  }\n  async function postCommentReply(commentId) {\n    const text = document.getElementById(`comment-reply-text-${commentId}`).innerHTML;\n    //hiding the reply box and button\n    toggleReplyBox(commentId);\n    const result = createCommentReply(text, commentId);\n    if (result) {\n      setNewReplyCommentId(commentId);\n      document.getElementById(`comment-reply-text-${commentId}`).innerHTML = "";\n    }\n  }\n  function toggleReplies(commentId) {\n    if (commentId === null) {\n      return;\n    }\n    document.getElementById(`comment-replies-${commentId}`).classList.toggle("hidden");\n  }\n  function toggleReplyBox(commentId) {\n    if (commentId === null) {\n      return;\n    }\n    document.getElementById(`comment-reply-div-${commentId}`).classList.toggle("hidden");\n  }\n  function toggleEditComment(commentId) {\n    const textComment = document.getElementById(`comment-${commentId}-text`);\n    if (textComment == null) {\n      return;\n    }\n    const saveButton = document.getElementById(`comment-${commentId}-save-button`);\n    const cancelButton = document.getElementById(`comment-${commentId}-cancel-button`);\n    textComment.contentEditable = textComment.contentEditable === "false";\n    textComment.classList.toggle("input-field");\n    saveButton.classList.toggle("hidden");\n    cancelButton.classList.toggle("hidden");\n  }\n  function toggleEditReply(replyId) {\n    const replyComment = document.getElementById(`reply-${replyId}-text`);\n    if (replyComment == null) {\n      return;\n    }\n    const saveButton = document.getElementById(`reply-${replyId}-save-button`);\n    const cancelButton = document.getElementById(`reply-${replyId}-cancel-button`);\n    replyComment.contentEditable = replyComment.contentEditable === "false";\n    replyComment.classList.toggle("input-field");\n    saveButton.classList.toggle("hidden");\n    cancelButton.classList.toggle("hidden");\n  }\n  async function saveEditReply(replyId) {\n    const reply = document.getElementById(`reply-${replyId}-text`);\n    if (reply == null) {\n      return;\n    }\n    const result = await editComment(reply.innerHTML, replyId);\n    if (!result) {\n      return;\n    }\n    toggleEditReply(replyId);\n  }\n  async function saveEditComment(commentId) {\n    const comment = document.getElementById(`comment-${commentId}-text`);\n    if (comment == null) {\n      return;\n    }\n    const result = await editComment(comment.innerHTML, commentId);\n    if (!result) {\n      return;\n    }\n    toggleEditComment(commentId);\n  }\n  async function cancelEditReply(replyId) {\n    const reply = document.getElementById(`reply-${replyId}-text`);\n    if (reply == null) {\n      return;\n    }\n    const comment = await retrieveComment(replyId);\n    if (!result) {\n      return;\n    }\n    reply.innerHTML = comment;\n    toggleEditReply(replyId);\n  }\n  async function cancelEditComment(commentId) {\n    const textComment = document.getElementById(`comment-${commentId}-text`);\n    if (textComment == null) {\n      return;\n    }\n    const comment = await retrieveComment(commentId);\n    if (!comment) {\n      return;\n    }\n    textComment.innerHTML = comment;\n    toggleEditComment(commentId);\n  }\n  function scrollToComment() {\n    let params = new URLSearchParams(location.search);\n    const commentId = params.get("comment");\n    const replyId = params.get("response");\n    if (commentId != null && replyId !== null) {\n      const commentRepliesDiv = document.getElementById(`comment-replies-${commentId}`);\n      const replyDiv = document.getElementById(`reply-${replyId}`);\n      if (commentRepliesDiv == null || replyDiv == null) {\n        return;\n      }\n      commentRepliesDiv.classList.toggle("hidden");\n      replyDiv.scrollIntoView({\n        behavior: "smooth"\n      });\n      replyDiv.classList.add("div-highlight");\n      return;\n    }\n    if (commentId !== null) {\n      const commentDiv = document.getElementById(`comment-${commentId}`);\n      if (commentDiv == null) {\n        return;\n      }\n      commentDiv.scrollIntoView({\n        behavior: "smooth",\n        block: "start"\n      });\n      commentDiv.classList.toggle("div-highlight");\n      return;\n    }\n  }\n  function showReplies() {\n    if (newReplyCommentId === null) {\n      return;\n    }\n    const comment = document.getElementById(`comment-replies-${newReplyCommentId}`);\n    if (comment.classList.contains("hidden")) {\n      comment.classList.toggle("hidden");\n    }\n    setNewReplyCommentId(null);\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    showReplies();\n  }, [newReplyCommentId]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!announcementLoading) {\n      scrollToComment();\n    }\n  }, [announcementLoading]);\n  if (announcementLoading || contextLoading) {\n    return null;\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "card rounded-15 mt-2 element-background-color element-border-color",\n      id: "comments-card"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "card-header"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, "Comments")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "card-body",\n      id: "comments-view"\n    }, user.is_logged_in === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "flex-box align-items-center"\n    }, user.profile_picture_data ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n      className: "rounded-circle",\n      style: {\n        width: "3rem",\n        height: "3rem"\n      },\n      src: `data: image/${user.profile_picture_format}; base64, ${user.profile_picture_data}`,\n      alt: ""\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "Error"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("textarea", {\n      id: "comment-text",\n      className: "input-field textarea-expand ms-2 w-100",\n      rows: 1,\n      placeholder: "Write a comment...",\n      onChange: e => {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_5__.autoResizeTextarea)(e.target);\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      className: "btn btn-outline-secondary ms-2",\n      onClick: postComment\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n      xmlns: "http://www.w3.org/2000/svg",\n      width: "16",\n      height: "16",\n      fill: "currentColor",\n      className: "bi bi-send",\n      viewBox: "0 0 16 16"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n      d: "M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"\n    })))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex justify-content-center"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, "Login in to write a comment")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null), commentsErrorMessage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "alert alert-danger m-2"\n    }, commentsErrorMessage), comments ? comments.map(comment => comment.parent_comment === null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `comment-${comment.id}`,\n      key: `comment-${comment.id}`\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex align-items-start"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n      className: "rounded-circle",\n      style: {\n        width: "2.5rem",\n        height: "2.5rem"\n      },\n      src: `data: image/${comment.user.profile_picture_format}; base64, ${comment.user.profile_picture_data}`,\n      alt: ""\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "dynamic-container ms-2",\n      style: {\n        maxWidth: "calc(100% - 48px)"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex align-items-center"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n      className: "link-no-decorations",\n      href: `/users/${comment.user.username}?page=1`\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, comment.user.username)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n      className: "flex-item ms-2",\n      style: {\n        fontSize: "0.75rem"\n      }\n    }, new Date(comment.date_created).toISOString().substring(0, 10), " ", new Date(comment.date_created).toLocaleTimeString().substring(0, 5)), comment.edited && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", {\n      className: "ms-1"\n    }, `(edited)`), (user.id === comment.user.id || user.is_admin == true) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "ms-auto dropdown-div d-flex align-items-start"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: "announcement-dropdown-button",\n      className: "btn btn-link link-no-decorations ms-auto",\n      style: {\n        padding: "0"\n      },\n      onClick: e => (0,_utils__WEBPACK_IMPORTED_MODULE_5__.toggleDropdown)(`comment-${comment.id}-dropdown`, e)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n      xmlns: "http://www.w3.org/2000/svg",\n      width: "16",\n      height: "16",\n      fill: "currentColor",\n      className: "bi bi-three-dots-vertical",\n      viewBox: "0 0 16 16"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n      d: "M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `comment-${comment.id}-dropdown`,\n      className: "dropdown-menu"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      className: "dropdown-item",\n      onClick: () => toggleEditComment(comment.id)\n    }, "Edit")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n      className: "dropdown-item",\n      onClick: () => deleteComment(comment.id)\n    }, "Delete"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "break-line-text"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n      id: `comment-${comment.id}-text`,\n      style: {\n        overflow: "visible"\n      },\n      className: "",\n      contentEditable: false\n    }, comment.text)), user.id === comment.user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: `comment-${comment.id}-save-button`,\n      className: "btn btn-primary ms-auto me-2 mt-2 hidden",\n      onClick: () => saveEditComment(comment.id)\n    }, "Save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: `comment-${comment.id}-cancel-button`,\n      className: "btn btn-outline-secondary mt-2 hidden",\n      onClick: () => cancelEditComment(comment.id)\n    }, "Cancel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex mb-3"\n    }, parseInt(comment.amount_replies) > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      className: "btn btn-link link-no-decorations p-0 pe-1",\n      style: {\n        color: "blue"\n      },\n      onClick: () => toggleReplies(comment.id)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, "Show ", comment.amount_replies, " replies")), user.is_logged_in === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      className: "btn btn-link link-no-decorations p-0",\n      onClick: () => toggleReplyBox(comment.id)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, "Reply")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "my-2"\n    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `comment-reply-div-${comment.id}`,\n      className: "hidden",\n      style: {\n        marginBottom: "0.5rem",\n        marginLeft: "3.4rem"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex justify-content-center"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `comment-reply-text-${comment.id}`,\n      role: "textbox",\n      contentEditable: true,\n      className: "input-field w-100",\n      "data-placeholder": "Add a reply...",\n      onClick: () => (0,_utils__WEBPACK_IMPORTED_MODULE_5__.focusDiv)(`comment-reply-text-${comment.id}`)\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: `comment-reply-button-${comment.id}`,\n      className: "btn btn-outline-secondary p-1 ms-2",\n      onClick: () => {\n        postCommentReply(comment.id);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, "Reply")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `comment-replies-${comment.id}`,\n      className: "dynamic-container hidden mb-3",\n      style: {\n        marginLeft: "2.7rem"\n      }\n    }, comment.replies.length > 0 && comment.replies.map(reply => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `reply-${reply.id}`,\n      key: `reply-${reply.id}`,\n      className: "dynamic-container mb-2",\n      style: {\n        marginLeft: "0px",\n        maxWidth: "calc(100% - 2.7rem)"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex align-items-start"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n      className: "rounded-circle",\n      style: {\n        width: "1.5rem",\n        height: "1.5rem",\n        marginTop: "6px"\n      },\n      src: `data: image/${reply.user.profile_picture_format}; base64, ${reply.user.profile_picture_data}`,\n      alt: ""\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "dynamic-container"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex align-items-center"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n      className: "link-no-decorations ms-2",\n      href: `/users/${reply.user.username}?page=1`\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, reply.user.username))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n      className: "ms-2",\n      style: {\n        fontSize: "0.75rem"\n      }\n    }, new Date(reply.date_created).toISOString().substring(0, 10), " ", new Date(reply.date_created).toLocaleTimeString().substring(0, 5)), reply.edited && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("small", {\n      className: "ms-1"\n    }, `(edited)`), user.id === reply.user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "ms-auto dropdown-div d-flex align-items-start"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: "reply-dropdown-button",\n      className: "btn btn-link link-no-decorations ms-auto",\n      style: {\n        padding: "0"\n      },\n      onClick: e => (0,_utils__WEBPACK_IMPORTED_MODULE_5__.toggleDropdown)(`reply-${reply.id}-dropdown`, e)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n      xmlns: "http://www.w3.org/2000/svg",\n      width: "16",\n      height: "16",\n      fill: "currentColor",\n      className: "bi bi-three-dots-vertical",\n      viewBox: "0 0 16 16"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n      d: "M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      id: `reply-${reply.id}-dropdown`,\n      className: "dropdown-menu"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      className: "dropdown-item",\n      onClick: () => toggleEditReply(reply.id)\n    }, "Edit")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n      className: "dropdown-item",\n      onClick: () => deleteComment(reply.id)\n    }, "Delete"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "break-line-text my-1"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n      id: `reply-${reply.id}-text`,\n      className: "",\n      contentEditable: false\n    }, reply.text)))), user.id === reply.user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex mt-2"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: `reply-${reply.id}-save-button`,\n      className: "btn btn-primary ms-auto me-2 hidden",\n      onClick: () => saveEditReply(reply.id)\n    }, "Save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n      id: `reply-${reply.id}-cancel-button`,\n      className: "btn btn-outline-secondary hidden",\n      onClick: () => cancelEditReply(reply.id)\n    }, "Cancel"))))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n      className: "d-flex justify-content-center"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null, "No comments have been posted yet"))));\n  }\n}\n\n//# sourceURL=webpack://frontend/./src/components/announcement-page-components/AnnouncementComments.js?')},"./src/components/announcement-page-components/AnnouncementContent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ AnnouncementContent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PageNotFound__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PageNotFound */ "./src/components/PageNotFound.js");\n/* harmony import */ var _AnnouncementContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AnnouncementContext */ "./src/components/announcement-page-components/AnnouncementContext.js");\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ApplicationContext */ "./src/components/ApplicationContext.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./src/components/utils.js");\n\n\n\n\n\n\nfunction AnnouncementContent() {\n  const {\n    user,\n    contextLoading\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_3__.useApplicationContext)();\n  const {\n    announcement,\n    editAnnouncement,\n    retrieveAnnouncement,\n    deleteAnnouncement\n  } = (0,_AnnouncementContext__WEBPACK_IMPORTED_MODULE_2__.useAnnouncementContext)();\n  const [announcementEditLoading, setAnnouncementEditLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  function toggleEditAnnouncement() {\n    const title = document.getElementById("announcement-title");\n    const text = document.getElementById("announcement-text");\n    const saveButton = document.getElementById("save-edit-announcement");\n    const cancelButton = document.getElementById("cancel-edit-announcement");\n    title.contentEditable = title.contentEditable === "false";\n    text.contentEditable = text.contentEditable === "false";\n    text.classList.toggle("input-field");\n    title.classList.toggle("input-field");\n    saveButton.classList.toggle("hidden");\n    cancelButton.classList.toggle("hidden");\n  }\n  function cancelEditAnnouncement() {\n    toggleEditAnnouncement();\n    retrieveAnnouncement();\n    const title = document.getElementById("announcement-title");\n    const text = document.getElementById("announcement-text");\n    title.innerHTML = announcement.title;\n    text.innerHTML = announcement.text;\n  }\n  function saveEditAnnouncement() {\n    setAnnouncementEditLoading(true);\n    const title = document.getElementById("announcement-title").innerHTML;\n    const text = document.getElementById("announcement-text").innerHTML;\n    editAnnouncement(title, text, announcement.id);\n    setAnnouncementEditLoading(false);\n  }\n  function saveDeleteAnnouncement() {\n    setAnnouncementEditLoading(true);\n    deleteAnnouncement(announcement.id);\n    setAnnouncementEditLoading(false);\n  }\n  if (contextLoading) {\n    return null;\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, announcementEditLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "alert alert-secondary"\n  }, "Loading..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card rounded-15 element-background-color element-border-color",\n    id: "announcement-card"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "card-header d-flex align-items-center p-3"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h3", {\n    id: "announcement-title",\n    className: "",\n    contentEditable: false\n  }, announcement.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "ms-2 me-2"\n  }, "\\u2022"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    href: `/users/${announcement.user.username}?page=1`,\n    className: "link-no-decorations"\n  }, announcement.user.profile_picture_data ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    className: "rounded-circle",\n    style: {\n      width: "2.75rem",\n      height: "2.75rem"\n    },\n    src: `data: image/${announcement.user.profile_picture_format}; base64, ${announcement.user.profile_picture_data}`,\n    alt: ""\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, "Error"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "ms-2"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("strong", null, announcement.user.username))), user.is_admin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "ms-auto dropdown-div"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    id: "announcement-dropdown-button",\n    className: "btn btn-link link-no-decorations ms-auto",\n    onClick: e => (0,_utils__WEBPACK_IMPORTED_MODULE_4__.toggleDropdown)("dropdown-announcement", e)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", {\n    xmlns: "http://www.w3.org/2000/svg",\n    width: "16",\n    height: "16",\n    fill: "currentColor",\n    className: "bi bi-three-dots-vertical",\n    viewBox: "0 0 16 16"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", {\n    d: "M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    id: `dropdown-announcement`,\n    className: "dropdown-menu"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    className: "dropdown-item",\n    onClick: toggleEditAnnouncement\n  }, "Edit")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", {\n    className: "dropdown-item",\n    onClick: saveDeleteAnnouncement\n  }, "Delete"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "break-line-text card-body"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    id: "announcement-text",\n    className: "",\n    contentEditable: false\n  }, announcement.text)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "d-flex mt-1"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    id: "save-edit-announcement",\n    className: "btn btn-primary hidden m-2 rounded-15",\n    onClick: saveEditAnnouncement\n  }, "Save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    id: "cancel-edit-announcement",\n    className: "me-auto btn btn-secondary hidden m-2 rounded-15",\n    onClick: cancelEditAnnouncement\n  }, "Cancel"))));\n}\n\n//# sourceURL=webpack://frontend/./src/components/announcement-page-components/AnnouncementContent.js?')},"./src/components/announcement-page-components/AnnouncementContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ AnnouncementContextProvider),\n/* harmony export */   useAnnouncementContext: () => (/* binding */ useAnnouncementContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ApplicationContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ApplicationContext */ "./src/components/ApplicationContext.js");\n/* harmony import */ var _fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../fetch-utils/fetchGet */ "./src/components/fetch-utils/fetchGet.js");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");\n/* harmony import */ var _fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../fetch-utils/fetchPost */ "./src/components/fetch-utils/fetchPost.js");\n\n\n\n\n\n\nconst AnnouncementContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\nfunction AnnouncementContextProvider() {\n  const {\n    setErrorMessage,\n    setSuccessMessage,\n    setModalErrorMessage,\n    resetApplicationMessages\n  } = (0,_ApplicationContext__WEBPACK_IMPORTED_MODULE_1__.useApplicationContext)();\n  const {\n    announcementId\n  } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useParams)();\n  const [announcement, setAnnouncement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [comments, setComments] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [announcementLoading, setAnnouncementLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [commentsErrorMessage, setCommentsErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  function resetAnnouncementsMessages() {\n    setCommentsErrorMessage(false);\n  }\n\n  //--------------------------------ANNOUNCEMENTS-------------------------------------------//\n  async function retrieveAnnouncement() {\n    setAnnouncementLoading(true);\n    if (announcementId === null) {\n      setAnnouncement(false);\n      return;\n    }\n    const announcementResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__.getAnnouncement)(announcementId);\n    if (announcementResponse.status == 404) {\n      setAnnouncement(false);\n      setAnnouncementLoading(false);\n      return;\n    }\n    if (announcementResponse.error || announcementResponse.status != 200) {\n      console.log(announcementResponse.error);\n      setErrorMessage("There was an error loading the announcement");\n      setAnnouncementLoading(false);\n      return;\n    }\n    setAnnouncement(announcementResponse.announcement);\n    setComments(announcementResponse.comments);\n    setAnnouncementLoading(false);\n  }\n  ;\n  async function editAnnouncement(title, text, announcementId) {\n    const announcementResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitEditAnnouncement)(title, text, announcementId);\n    if (announcementResponse.error) {\n      console.log(announcementResponse.error);\n      setErrorMessage("There was an error saving the changes");\n      return;\n    }\n    if (announcementResponse.status === 400) {\n      setErrorMessage("Be sure the title has a limit of 128 characters and the text 2048");\n      return;\n    }\n    if (announcementResponse.status === 200) {\n      setSuccessMessage("Announcement changes saved");\n      return;\n    }\n    setErrorMessage("There was an error saving the changes");\n    return;\n  }\n  async function deleteAnnouncement(announcementId) {\n    const announcementResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitDeleteAnnouncement)(announcementId);\n    if (announcementResponse.error || announcementResponse.status != 200) {\n      console.log(announcementResponse.error);\n      setErrorMessage("There was an error deleting the announcement");\n      return;\n    }\n    setSuccessMessage("Announcement successfully deleted");\n    return;\n  }\n\n  //---------------------------------COMMENTS-----------------------------------------------//\n\n  async function retrieveComment(commentId) {\n    resetAnnouncementsMessages();\n    const commentResponse = await (0,_fetch_utils_fetchGet__WEBPACK_IMPORTED_MODULE_2__.getAnnouncementComment)(commentId);\n    if (commentResponse.error || commentResponse.status != 200) {\n      setCommentsErrorMessage("There was an error retrieving the comment");\n      console.log(commentResponse.error);\n      return false;\n    }\n    return commentResponse.comment.text;\n  }\n  async function createComment(text) {\n    resetApplicationMessages();\n    const commentResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitAnnouncementComment)(text, announcement.id);\n    if (commentResponse.error) {\n      setCommentsErrorMessage("There was an error posting the comment");\n      console.log(commentResponse.error);\n      return false;\n    }\n    if (commentResponse.status != 200) {\n      setCommentsErrorMessage("Comment is invalid");\n      return false;\n    }\n\n    //reload comments to load the comment after its sent (NEEDS CHANGING)\n    retrieveAnnouncement();\n    return true;\n  }\n  async function editComment(text, commentId) {\n    resetAnnouncementsMessages();\n    const commentResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitEditAnnouncementComment)(text, commentId);\n    if (commentResponse.error) {\n      setCommentsErrorMessage("There was an error editing the comment");\n      console.log(commentResponse.error);\n      return false;\n    }\n    if (commentResponse.status != 200) {\n      setCommentsErrorMessage("Comments have a max character count of 2048 characters");\n      return false;\n    }\n    return true;\n  }\n  async function deleteComment(commentId) {\n    resetAnnouncementsMessages();\n    const commentResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitDeleteAnnouncementComment)(commentId);\n    if (commentResponse.error || commentResponse.status != 200) {\n      setCommentsErrorMessage("There was an error deleting the comment");\n      console.log(commentResponse.error);\n      return;\n    }\n    retrieveAnnouncement();\n    return;\n  }\n  async function createCommentReply(text, commentId) {\n    resetAnnouncementsMessages();\n    const replyResponse = await (0,_fetch_utils_fetchPost__WEBPACK_IMPORTED_MODULE_3__.submitAnnouncementCommentReply)(text, commentId, announcement.id);\n    if (replyResponse.error || replyResponse.status != 200) {\n      setCommentsErrorMessage("Error submiting the comment");\n      console.log(replyResponse.error);\n      return false;\n    }\n\n    //TODO: make a system where it only retrieves the singular comment to then update it, not eficient to update the whole announcement\n    retrieveAnnouncement();\n    return true;\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AnnouncementContext.Provider, {\n    value: {\n      announcement,\n      comments,\n      retrieveAnnouncement,\n      editAnnouncement,\n      deleteAnnouncement,\n      announcementLoading,\n      retrieveComment,\n      commentsErrorMessage,\n      setCommentsErrorMessage,\n      resetAnnouncementsMessages,\n      editComment,\n      deleteComment,\n      createCommentReply,\n      createComment\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Outlet, null));\n}\nfunction useAnnouncementContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AnnouncementContext);\n}\n\n//# sourceURL=webpack://frontend/./src/components/announcement-page-components/AnnouncementContext.js?')}}]);