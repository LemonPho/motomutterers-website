"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[141],{141:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(540),r=a(767),n=a(550),o=a(946);function l(){const[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),[i,p]=(0,s.useState)(null),[w,h]=(0,s.useState)(!1),{setErrorMessage:g,setSuccessMessage:y}=(0,o.Xn)(),f=(0,r.zy)();return s.createElement("div",null,w&&s.createElement("div",{className:"alert alert-secondary m-1"},"Loading..."),s.createElement("div",{className:"card shadow mx-auto my-5 rounded-15",style:{width:"21rem"}},s.createElement("div",{className:"my-3",style:{display:"flex"}},s.createElement("h6",{style:{margin:"auto",fontSize:"40px"}},"New Password")),s.createElement("hr",{className:"mt-2"}),s.createElement("div",{className:"input-group px-3 mx-auto"},s.createElement("input",{type:"password",className:"form-control",placeholder:"New password",id:"password1"})),s.createElement("div",{className:"input-group mt-3 px-3 mx-auto"},s.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm password",id:"password2"})),s.createElement("div",{className:"input-group mt-3 mb-3 px-3 mx-auto"},s.createElement("button",{className:"btn btn-primary btn-block",onClick:async function(){h(!0);const e=new URLSearchParams(f.search),t=e.get("uid"),a=e.get("token"),s=document.getElementById("password1").value,r=document.getElementById("password2").value,o=await(0,n.IR)(s,r,t,a);if(o.error)return g("There was an error when submiting the new password"),void h(!1);if(400===o.status){let e=o.passwordsMatch?"":"Passwords don't match\n";return e+=o.passwordValid?"":"Password is not valid, it needs to be at least 8 characters and not 'simple'\n",e+=o.tokenValid?"":"The URL used is no longer valid, please restart the process\n",g(e),void h(!1)}if(200===o.status)return y("Password successfully changed, you may login now"),void h(!1);h(!1),g("There was a server error when submiting the new password")}},"Change"))))}}}]);