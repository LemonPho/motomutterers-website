"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[628,993],{628:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o,useStandingsContext:()=>c});var s=a(540),n=a(767),r=a(974),i=a(946);const l=(0,s.createContext)();function o(){const{setErrorMessage:e}=(0,i.Xn)(),[t,a]=(0,s.useState)({}),[o,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)({}),[u,p]=(0,s.useState)(!0),[g,E]=(0,s.useState)([]),[h,k]=(0,s.useState)(!0),[f,v]=(0,s.useState)({}),[N,w]=(0,s.useState)(!0);return s.createElement(l.Provider,{value:{retrieveStandings:async function(){c(!0);const t=new URLSearchParams(location.search).get("season"),s=await(0,r.bO)(t);if(s.error)return console.log(s.error),void e("There was an error retrieving the standings");200===s.status&&(a(s.standings),c(!1))},retrieveSelectedSeason:async function(){w(!0);const t=new URLSearchParams(location.search).get("season"),a=await(0,r.cv)(t);a.error?e("There was an error retrieving season data"):200==a.status?(v(a.season),w(!1)):e("Be sure to select a valid season")},retrieveSeasonList:async function(){k(!0);const t=await(0,r.a)();t.error||200!=t.status?e("There was an error retrieving the season list"):(E(t.seasons),k(!1))},retrieveUserPicks:async function(t){p(!0);const a=await(0,r.i)(f.id,t);a.error?e("There was an error retrieving the user picks"):404!=a.status?200==a.status?(m(a.userPicks),p(!1)):e("There was an error loading the user picks"):e("The user picks was not found")},standings:t,userPicksDetailed:d,seasonList:g,selectedSeason:f,standingsLoading:o,userPicksDetailedLoading:u,seasonListLoading:h,selectedSeasonLoading:N}},s.createElement(n.sv,null))}function c(){return(0,s.useContext)(l)}},993:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(540),n=a(926),r=a(447),i=a(628),l=a(946);function o(){const{errorMessage:e}=(0,l.Xn)(),{userPicksDetailed:t,userPicksDetailedLoading:a,selectedSeason:n}=(0,i.useStandingsContext)();return s.createElement("div",{className:"custom-modal hidden",id:"user-picks-detailed-modal",onClick:e=>{e.stopPropagation()}},e&&s.createElement("div",{className:"alert alert-danger"},s.createElement("small",null,e)),!a&&s.createElement("a",{className:"p-2 custom-modal-header d-flex align-items-center link-no-decorations clickable rounded-15",href:`/users/${t.user.username}?page=1`},s.createElement(r.A,{width:"5rem",height:"5rem",username:t.user.username}),s.createElement("h3",{className:"ms-4"},t.user.username," - ",t.points)),a&&s.createElement("div",{className:"p-2 custom-modal-header d-flex align-items-center"},s.createElement(r.A,{width:"5rem",height:"5rem",username:!1}),s.createElement("div",{className:"loading-placeholder"},s.createElement("h3",{className:"w-100 ms-4 fade-in-out"}))),s.createElement("hr",null),a&&s.createElement("ul",{className:"list-group"},s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"})),s.createElement("div",{style:{height:"40px"}},s.createElement("li",{className:"list-group-item fade-in-out"}))),!a&&s.createElement("ul",{className:"custom-modal-body d-flex list-group"},t.picks.map((e=>s.createElement("li",{className:"list-group-item",id:`pick-${e.position}`,key:`pick-${e.position}`},s.createElement("strong",null,e.position,". "),e.first," ",e.last," - ",e.points))),n.top_independent&&s.createElement("li",{className:"list-group-item",id:"pick-independent"},s.createElement("strong",null,"Independent. ")," ",t.independent_pick.first," ",t.independent_pick.last," - ",t.independent_pick.points),n.top_rookie&&s.createElement("li",{className:"list-group-item",id:"pick-rookie"},s.createElement("strong",null,"Rookie. ")," ",t.rookie_pick.first," ",t.rookie_pick.last," - ",t.rookie_pick.points)))}function c(){const{retrieveStandings:e,retrieveSelectedSeason:t,retrieveSeasonList:a,selectedSeason:l,seasonList:c,standings:d,standingsLoading:m,selectedSeasonLoading:u,seasonListLoading:p,profilePicturesLoading:g,retrieveUserPicks:E}=(0,i.useStandingsContext)();return(0,s.useEffect)((()=>{!async function(){await e(),await a(),await t()}()}),[]),s.createElement("div",{className:"card rounded-15 align-middle element-background-color element-border-color"},s.createElement("div",{className:"rounded-15-top card-header"},s.createElement("div",{className:"d-flex align-items-center"},s.createElement("h5",{className:"m-0"},"Standings"),!u&&l.finalized&&s.createElement("small",null,"â€Ž (finalized)"),s.createElement("div",{className:"ms-auto btn-group"},s.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle rounded-15","data-bs-toggle":"dropdown",type:"button","aria-expanded":"false",onClick:e=>{(0,n.gR)("season-selector-dropdown",e)}},l.year),s.createElement("ul",{className:"dropdown-menu dropdown-menu-end",id:"season-selector-dropdown",style:{top:"100%",right:"0"}},!p&&c.map((e=>s.createElement("li",{key:`${e.year}`},s.createElement("a",{className:"dropdown-item",href:`/standings?season=${e.year}`,id:`${e.year}`},e.year,e.year==l.year&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"ms-auto me-1 bi bi-check",viewBox:"0 0 16 16"},s.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"})))))))))),s.createElement("div",{className:"card-body"},d?0==m&&d.users_picks.map(((e,t)=>s.createElement("div",{key:`standings-user-${e.user.username}`},s.createElement("div",{className:"p-2 clickable rounded-15",onClick:t=>{t.stopPropagation(),(0,n.YK)("user-picks-detailed-modal",t),E(e.user.id)}},s.createElement("div",{className:"d-flex align-items-center"},s.createElement(r.A,{width:"3.5rem",height:"3.5rem",username:e.user.username}),s.createElement("div",{className:"ms-1"},s.createElement("strong",null,t+1,". ",e.user.username," - ",e.points))),s.createElement("div",{className:"d-flex align-items-center"},e.picks.map((t=>s.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"},key:`user-${e.user.id}-pick-${t.competitor_id}`},s.createElement("strong",null,t.first[0],". ",t.last.slice(0,3))," - ",t.points))),!u&&l.top_independent&&s.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"}},s.createElement("strong",null,"| I: ",e.independent_pick.first[0],". ",e.independent_pick.last.slice(0,3))," - ",e.independent_pick.points),!u&&l.top_rookie&&s.createElement("div",{className:"me-1",style:{fontSize:"0.75rem"}},s.createElement("strong",null,"| R: ",e.rookie_pick.first[0],". ",e.rookie_pick.last.slice(0,3))," - ",e.rookie_pick.points))),s.createElement("hr",null)))):s.createElement("div",null,"There are no standings for this season")),s.createElement(o,null))}}}]);