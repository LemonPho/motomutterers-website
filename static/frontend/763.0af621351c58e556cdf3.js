"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[763,807,637],{807:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(540);class n extends s.Component{constructor(e){super(e)}render(){return s.createElement("p",null,"Error page not found")}}const l=n},637:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i,useRaceResultsContext:()=>d});var s=a(540),n=a(976),l=a(767),c=a(974),r=a(946);const o=(0,s.createContext)();function i(){const{setErrorMessage:e,setSuccessMessage:t}=(0,r.Xn)(),[a,i]=(0,s.useState)(),[d,m]=(0,s.useState)(),[u,g]=(0,s.useState)(!1),[E,p]=(0,s.useState)(),[f,N]=(0,s.useState)(),[h,v]=(0,s.useState)(),[y,w]=(0,s.useState)(!1),[b,R]=(0,s.useState)(1),[L]=(0,n.ok)();return s.createElement(o.Provider,{value:{raceResults:a,raceResultsLoading:d,raceResultDetails:u,raceResultDetailsLoading:E,seasonList:f,seasonListLoading:h,selectedSeason:y,setSelectedSeason:w,retrieveRaceResults:async function(){m(!0);const t=L.get("season");if(null==t)return;const a=await(0,c.aG)(t);console.log(a),a.error?e("There was an error loading the race results"):404!==a.status?200==a.status?(i(a.raceResults),m(!1)):e("Be sure your request is valid"):e("Be sure to select a valid season")},retrieveRaceResultDetails:async function(t){p(!0);const a=await(0,c.YY)(t);a.error?e("There was an error loading the race result"):404!==a.status?200==a.status?(g(a.race),p(!1)):e("There was an error loading the race result"):e("Race result was not found")},retrieveSeasonList:async function(){v(!0);const t=await(0,c.zV)();t.error||200!=t.status?e("There was an error loading the season list"):(N(t.seasons),v(!1))}}},s.createElement(l.sv,null))}function d(){return(0,s.useContext)(o)}},763:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(540),n=a(767),l=a(976),c=a(637);function r({raceId:e}){const{raceResultDetails:t,raceResultDetailsLoading:a,retrieveRaceResultDetails:n}=(0,c.useRaceResultsContext)();return(0,s.useEffect)((()=>{!async function(){await n(e)}()}),[e]),a||!t?s.createElement("div",null,s.createElement("div",{className:"card element-background-color element-border-color",id:"race-result-card"},s.createElement("div",{className:"card-header rounded-15-top"},s.createElement("h5",{className:"fade-in-out"})),s.createElement("div",{className:"card-body"},s.createElement("ul",null,s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"})))),s.createElement("div",{className:"card element-background-color element-border-color",id:"standings-card"},s.createElement("div",{className:"card-header rounded-15-top"},s.createElement("h5",{className:"fade-in-out"})),s.createElement("div",{className:"card-body"},s.createElement("ul",null,s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}),s.createElement("li",{className:"fade-in-out"}))))):s.createElement("div",null,s.createElement("div",{className:"card rounded-15 element-background-color element-border-color",id:"race-result-card"},s.createElement("div",{className:"card-header rounded-15-top"},s.createElement("div",{className:"d-flex align-items-center"},s.createElement("h5",{className:"p-2"},t.title,t.is_sprint&&" (Sprint)"),s.createElement("div",{className:"ms-auto"},s.createElement("div",{className:"container"},t.finalized&&s.createElement("span",{className:"badge rounded-pill text-bg-success"},"Final"),!t.finalized&&s.createElement("span",{className:"badge rounded-pill text-bg-secondary"},"Upcoming"))))),s.createElement("div",{className:"card-body"},t.finalized&&s.createElement("div",null,s.createElement("div",{className:"row g-0",style:{marginRight:"0"}},s.createElement("strong",{className:"col-2"},"Pos"),s.createElement("strong",{className:"col-2"},"#"),s.createElement("strong",{className:"col-6"},"Name"),s.createElement("strong",{className:"col-2"},"Points")),t.competitors_positions.map((e=>s.createElement("div",{className:"row g-0",key:`competitor-${e.competitor_id}`,style:{marginRight:"0px"}},0==e.position&&s.createElement("span",{className:"col-2"},"-"),0!=e.position&&s.createElement("span",{className:"col-2"},e.position),s.createElement("span",{className:"col-2"},"#",e.number),s.createElement("span",{className:"col-6"},e.first," ",e.last),s.createElement("span",{className:"col-2"},e.points))))))))}a(946);var o=a(926);function i({seasonYear:e}){const{retrieveRaceResults:t,retrieveRaceResultsDetails:a,retrieveSeasonList:n,raceResults:l,raceResultsLoading:r,selectedSeason:i,seasonList:d,seasonListLoading:m}=(0,c.useRaceResultsContext)();return(0,s.useEffect)((()=>{!async function(){await t(),await n()}()}),[]),s.createElement("div",null,s.createElement("div",{className:"card rounded-15 mt-4 element-background-color element-border-color"},s.createElement("div",{className:"card-header d-flex align-items-center"},s.createElement("h5",null,"Race results"),s.createElement("div",{className:"dropdown ms-auto"},s.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",type:"button",onClick:e=>(0,o.gR)("season-selector-dropdown",e,void 0)},e),s.createElement("ul",{className:"dropdown-menu",id:"season-selector-dropdown"},!m&&d.map((t=>s.createElement("li",{className:"ms-2",key:`${t.year}`},s.createElement("a",{className:"d-flex align-items-center",href:`/raceresults?season=${t.year}`,id:`${t.year}`},t.year,t.year==e&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"ms-auto me-1 bi bi-check",viewBox:"0 0 16 16"},s.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"}))))))))),s.createElement("div",{className:"card-body"},!r&&null!=l&&0==l.length&&s.createElement("h5",null,"No race results have been added for this season."),!r&&null!=l&&l.map((e=>s.createElement("div",{className:"p-2 clickable rounded-15",key:`race-result-${e.id}`},s.createElement("a",{className:"link-no-decorations",href:`/raceresults/${e.id}`},s.createElement("div",null,s.createElement("div",{className:"d-flex align-items-center"},s.createElement("h3",{className:"p-2"},e.title,e.is_sprint&&" (Sprint)"),s.createElement("div",{className:"ms-auto"},s.createElement("div",{className:"container"},e.finalized&&s.createElement("span",{className:"badge rounded-pill text-bg-success"},"Final"),!e.finalized&&s.createElement("span",{className:"badge rounded-pill text-bg-secondary"},"Upcoming"))))),s.createElement("div",{className:"card-body"},e.finalized&&s.createElement("div",null,s.createElement("div",{className:"row g-0",style:{marginRight:"0px",padding:"0px"}},s.createElement("strong",{className:"col-2"},"Pos."),s.createElement("strong",{className:"col-2"},"#"),s.createElement("strong",{className:"col-6"},"Name")),e.competitors_positions.map((e=>s.createElement("div",{className:"row g-0",key:`competitor-${e.competitor_id}`,style:{marginRight:"0px"}},0==e.position&&s.createElement("span",{className:"col-2"},"-"),0!=e.position&&s.createElement("span",{className:"col-2"},e.position),s.createElement("span",{className:"col-2"},s.createElement("small",null,s.createElement("strong",null,"#",e.number))),s.createElement("span",{className:"col-6"},e.first," ",e.last)))))))))))))}var d=a(807);function m(){const{raceId:e}=(0,n.g)(),[t]=(0,l.ok)(),{retrieveSeasonList:a,seasonList:o,seasonListLoading:m,setSelectedSeason:u,selectedSeason:g}=(0,c.useRaceResultsContext)(),E=t.get("season");return e?s.createElement(r,{raceId:e}):E?((0,s.useEffect)((()=>{!async function(){await a()}()}),[]),(0,s.useEffect)((()=>{if(!m&&null!=o)for(let e=0;e<o.length;e++)o[e].year==E&&u(o[e])}),[o]),g?s.createElement(i,{seasonYear:E}):s.createElement(d.default,null)):s.createElement(d.default,null)}},926:(e,t,a)=>{function s(e,t,a){let s,n={pageNumbers:[],nextPage:"",previousPage:""},l=Math.ceil(e/t),c=0;if(e%t==0&&l++,s=l,e<=t)return null;for(n.previousPage=a>1?"page-item":"page-item disabled",n.nextPage=a<l?"page-item":"page-item disabled",a>5&&(l>a+5?(c=a-5,s=a+5):(c=10-(l-a),s=c+10));c<s;c++)n.pageNumbers.push(c+1);return n}function n(e,t){for(var a=e.split(","),s=a[0].match(/:(.*?);/)[1],n=atob(a[a.length-1]),l=n.length,c=new Uint8Array(l);l--;)c[l]=n.charCodeAt(l);return t=`${t}.${s.split("/")[1]}`,new File([c],t,{type:s})}function l(){return{width:window.innerWidth,height:window.innerHeight}}function c(){const e=document.getElementsByClassName("custom-modal"),t=document.getElementById("background-blur"),a=document.querySelectorAll('[data-category="input-field"]');Array.prototype.forEach.call(e,(e=>{e.classList.contains("hidden")||e.classList.toggle("hidden")})),Array.prototype.forEach.call(a,(e=>{"INPUT"===e.tagName?(e.value=null,e.checked=!1):e.innerHTML=""})),t.classList.contains("hidden")||t.classList.toggle("hidden")}function r(e,t,a,s){const n=document.getElementById(e),l=document.getElementById("background-blur");t.stopPropagation(),n.classList.contains("hidden")?void 0!==a&&!0!==a||void 0!==s&&!0!==s||(o(),c(),n.classList.toggle("hidden"),l.classList.toggle("hidden")):c()}function o(){const e=document.getElementsByClassName("dropdown-menu"),t=document.getElementsByClassName("menu-dropdown-content");Array.prototype.forEach.call(e,(e=>{e.classList.contains("show")&&e.classList.toggle("show")})),Array.prototype.forEach.call(t,(e=>{e.classList.contains("show")&&e.classList.toggle("show")}))}function i(e,t,a){t.stopPropagation();const s=document.getElementById(e);s.classList.contains("show")?o():(o(),null==e||null!=a&&1!=a||s.classList.toggle("show"))}function d(e,t){e.stopPropagation(),"Enter"==e.key&&(e.preventDefault(),t())}function m(e){const t=document.getElementById(e);t&&t.focus()}a.d(t,{Gd:()=>m,Tc:()=>o,X$:()=>s,Xz:()=>n,YK:()=>r,ac:()=>d,gR:()=>i,qT:()=>l,tI:()=>c})}}]);