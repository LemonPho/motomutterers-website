"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[446,883],{883:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});var a=t(540),o=t(946);function n(){const{user:e,retrieveUserData:r,setLogout:t,setErrorMessage:n,currentSeason:s,selectPicksState:c,contextLoading:l}=(0,o.Xn)();if(!l)return a.createElement("div",{style:{width:"100%"}},a.createElement("div",{className:"row"},s.year&&a.createElement("a",{className:"col card rounded-15 clickable link-no-decorations me-1 element-background-color element-border-color",href:`/raceresults?season=${s.year}`},a.createElement("div",{className:"card-body"},a.createElement("h1",null,"Race Results"))),a.createElement("a",{className:"col card rounded-15 clickable link-no-decorations ms-1 element-background-color element-border-color",href:"/announcements?page=1"},a.createElement("div",{className:"card-body"},a.createElement("h1",null,"Announcements")))),a.createElement("div",{className:"row my-2"},s.year&&a.createElement("a",{className:"col card rounded-15 clickable link-no-decorations element-background-color element-border-color",href:`/standings?season=${s.year}`},a.createElement("div",{className:"card-body"},a.createElement("h1",null,"Standings")))),e.is_logged_in&&c&&a.createElement("div",{className:"row my-2"},a.createElement("a",{className:"col card rounded-15 clickable link-no-decorations element-background-color element-border-color",href:"/select-picks"},a.createElement("div",{className:"card-body"},a.createElement("h1",null,"Select your picks!")))))}t(446)},446:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i,useSeasonContext:()=>d});var a=t(540),o=t(974),n=t(767),s=t(398),c=t(946);const l=(0,a.createContext)();function i(){const{setErrorMessage:e,setSuccessMessage:r,setModalErrorMessage:t,resetApplicationMessages:i}=(0,c.Xn)(),d=(0,n.g)().seasonYear,[u,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1);async function f(){const r=await(0,o.oK)(d);let t={};return 404===r.status?(m(!1),g(!1),void e("Season not found")):r.error||200!=r.status?(e("There was an error loading the season"),g(!1),void console.log(r.error)):(t=r.season,t.competitorsSortedNumber=r.competitorsSortedNumber,m(t),void g(!1))}return a.createElement(l.Provider,{value:{season:u,seasonLoading:h,retrieveSeason:f,deleteSeason:async function(){const t=await(0,s.Hs)(u.id);200!=t.status||t.error?e("There was an error deleting the season"):(r("Season deleted"),m(null))},createSeasonRace:async function(e){i();const a=await(0,s.Ir)(e);return a.error||200!=a.status?(t("There was an error creating the race"),console.log(a.error),!1):(r("Race created"),f(),!0)},addSeasonRaceResults:async function(e){i();const a=await(0,s.yN)(e);return a.error?(t("There was an error adding the results"),console.log(a.error),!1):200!=a.status?(t("Be sure that the information inputted is correct"),!1):(r("Race result saved"),f(),!0)},editSeasonRace:async function(e){i();let a=await(0,s._O)(e);return a.error?(t("There was an error editing the race"),console.log(a.error),!1):200!=a.status?(t("Be sure the information is valid"),!1):(r("Changes saved"),f(),!0)},deleteSeasonRace:async function(a){i();let o=await(0,s.DK)(a,d);if(o.error||200!=o.status)return console.log(o.error),t("There was an error deleting the race"),void e("There was an error deleting the race");r("Race deleted"),f()},createSeasonCompetitor:async function(e){i();const a=await(0,s.To)(e);return a.error?(t("There was an error submiting the competitor"),console.log(a.error),!1):a.riderExists?(t("A rider with that number already exists"),!1):a.seasonNotFound?(t("The season was not found of which you want to add the competitor"),!1):201!=a.status?(t("Make sure the information is correct and valid"),!1):(r("Rider created"),f(),!0)},editSeasonCompetitor:async function(e){i();const a=await(0,s.qZ)(e);return a.error?(console.log(a.error),t("There was an error editing the rider"),!1):200!=a.status?(t("Make sure the information is valid"),!1):(r("Changes saved"),f(),!0)},deleteSeasonCompetitor:async function(e,a){i();const o=await(0,s.Se)(e,a);return o.error||200!=o.status?(t("There was an error deleting the rider"),console.log(o.error),!1):(r("Rider deleted"),f(),!0)}}},a.createElement(n.sv,null))}function d(){return(0,a.useContext)(l)}}}]);