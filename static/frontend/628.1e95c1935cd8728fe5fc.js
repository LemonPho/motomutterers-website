"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[628],{628:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u,useStandingsContext:()=>c});var t=r(540),n=r(767),a=r(974),i=r(946);const o=(0,t.createContext)();function u(){const{setErrorMessage:e}=(0,i.Xn)(),[s,r]=(0,t.useState)({}),[u,c]=(0,t.useState)(!0),[l,d]=(0,t.useState)(!0),[f,p]=(0,t.useState)({}),[g,h]=(0,t.useState)(!0),[v,w]=(0,t.useState)([]),[S,k]=(0,t.useState)(!0),[P,L]=(0,t.useState)({}),[_,T]=(0,t.useState)(!0);return t.createElement(o.Provider,{value:{retrieveStandings:async function(){c(!0);const s=new URLSearchParams(location.search).get("season"),t=await(0,a.bO)(s);if(t.error)return console.log(t.error),void e("There was an error retrieving the standings");200===t.status&&(r(t.standings),c(!1))},retrieveSelectedSeason:async function(){T(!0);const s=new URLSearchParams(location.search).get("season"),r=await(0,a.cv)(s);r.error?e("There was an error retrieving season data"):200==r.status?(L(r.season),T(!1)):e("Be sure to select a valid season")},retrieveSeasonList:async function(){k(!0);const s=await(0,a.a)();s.error||200!=s.status?e("There was an error retrieving the season list"):(w(s.seasons),k(!1))},retrieveUserPicks:async function(s){h(!0);const r=await(0,a.i)(P.id,s);if(r.error)e("There was an error retrieving the user picks");else if(404!=r.status){if(200==r.status){const s=await(0,a.HD)(r.userPicks.user);if(s.error)return void e("There was an error loading the profile picture");if(404==s.status)return void e("User profile picture was not found");200==s.status&&(r.userPicks.user.profile_picture=s.users[0].profile_picture,p(r.userPicks),h(!1))}}else e("The user picks was not found")},retrieveProfilePictures:async function(){if(!s||0==Object.keys(s).length||0==s.users_picks.length)return;const t=s.users_picks.map((e=>e.user)),n=await(0,a.HD)(t);if(200!==n.status)return void e("There was an error loading the profile pictures");const i=s.users_picks.map(((e,s)=>{const r={...e.user,profile_picture:n.users[s].profile_picture};return{...e,user:r}}));let o=s;o.users_picks=i,r(o),d(!1)},standings:s,userPicksDetailed:f,seasonList:v,selectedSeason:P,standingsLoading:u,userPicksDetailedLoading:g,seasonListLoading:S,selectedSeasonLoading:_,profilePicturesLoading:l}},t.createElement(n.sv,null))}function c(){return(0,t.useContext)(o)}}}]);