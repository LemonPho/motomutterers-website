"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[628],{628:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u,useStandingsContext:()=>c});var r=t(540),a=t(767),n=t(974),i=t(946);const o=(0,r.createContext)();function u(){const{setErrorMessage:e}=(0,i.Xn)(),[s,t]=(0,r.useState)({}),[u,c]=(0,r.useState)(!0),[l,d]=(0,r.useState)(!0),[f,p]=(0,r.useState)({}),[g,h]=(0,r.useState)(!0),[v,w]=(0,r.useState)([]),[S,k]=(0,r.useState)(!0),[P,L]=(0,r.useState)({}),[_,T]=(0,r.useState)(!0);return r.createElement(o.Provider,{value:{retrieveStandings:async function(){c(!0);const s=new URLSearchParams(location.search).get("season"),r=await(0,n.bO)(s);r.error?e("There was an error retrieving the standings"):200===r.status&&(t(r.standings),c(!1))},retrieveSelectedSeason:async function(){T(!0);const s=new URLSearchParams(location.search).get("season"),t=await(0,n.cv)(s);t.error?e("There was an error retrieving season data"):200==t.status?(L(t.season),T(!1)):e("Be sure to select a valid season")},retrieveSeasonList:async function(){k(!0);const s=await(0,n.a)();s.error||200!=s.status?e("There was an error retrieving the season list"):(w(s.seasons),k(!1))},retrieveUserPicks:async function(s){h(!0);const t=await(0,n.i)(P.id,s);if(t.error)e("There was an error retrieving the user picks");else if(404!=t.status){if(200==t.status){const s=await(0,n.HD)(t.userPicks.user);if(s.error)return void e("There was an error loading the profile picture");if(404==s.status)return void e("User profile picture was not found");200==s.status&&(t.userPicks.user.profile_picture=s.users[0].profile_picture,p(t.userPicks),h(!1))}}else e("The user picks was not found")},retrieveProfilePictures:async function(){if(!s||0==Object.keys(s).length||0==s.users_picks.length)return;const r=s.users_picks.map((e=>e.user)),a=await(0,n.HD)(r);if(200!==a.status)return void e("There was an error loading the profile pictures");const i=s.users_picks.map(((e,s)=>{const t={...e.user,profile_picture:a.users[s].profile_picture};return{...e,user:t}}));let o=s;o.users_picks=i,t(o),d(!1)},standings:s,userPicksDetailed:f,seasonList:v,selectedSeason:P,standingsLoading:u,userPicksDetailedLoading:g,seasonListLoading:S,selectedSeasonLoading:_,profilePicturesLoading:l}},r.createElement(a.sv,null))}function c(){return(0,r.useContext)(o)}}}]);