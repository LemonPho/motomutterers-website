"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[141],{141:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(540),r=s(767),n=s(606),o=s(946);function l(){const[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[i,p]=(0,a.useState)(null),[w,h]=(0,a.useState)(!1),{setErrorMessage:g,setSuccessMessage:y}=(0,o.Xn)(),f=(0,r.zy)();return a.createElement("div",null,w&&a.createElement("div",{className:"alert alert-secondary m-1"},"Loading..."),a.createElement("div",{className:"card shadow mx-auto my-5 rounded-15",style:{width:"21rem"}},a.createElement("div",{className:"my-3",style:{display:"flex"}},a.createElement("h6",{style:{margin:"auto",fontSize:"40px"}},"New Password")),a.createElement("hr",{className:"mt-2"}),a.createElement("div",{className:"input-group px-3 mx-auto"},a.createElement("input",{type:"password",className:"form-control",placeholder:"New password",id:"password1"})),a.createElement("div",{className:"input-group mt-3 px-3 mx-auto"},a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm password",id:"password2"})),a.createElement("div",{className:"input-group mt-3 mb-3 px-3 mx-auto"},a.createElement("button",{className:"btn btn-primary btn-block",onClick:async function(){h(!0);const e=new URLSearchParams(f.search),t=e.get("uid"),s=e.get("token"),a=document.getElementById("password1").value,r=document.getElementById("password2").value,o=await(0,n.IR)(a,r,t,s);if(console.log(o),o.error)return g("There was an error when submiting the new password"),void h(!1);if(400===o.status){let e=o.passwordsMatch?"":"Passwords don't match\n";return e+=o.passwordValid?"":"Password is not valid, it needs to be at least 8 characters and not 'simple'\n",e+=o.tokenValid?"":"The URL used is no longer valid, please restart the process\n",g(e),void h(!1)}if(200===o.status)return y("Password successfully changed, you may login now"),void h(!1);h(!1),g("There was a server error when submiting the new password")}},"Change"))))}}}]);