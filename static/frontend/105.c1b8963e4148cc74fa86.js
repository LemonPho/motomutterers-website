"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[105],{105:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(540),o=n(974),l=n(946),c=n(926),r=n(606);function s(){const{setErrorMessage:e,addErrorMessage:t,setSuccessMessage:n,setLoadingMessage:s,currentSeason:i,competitorsSortedNumber:d,loggedIn:m,user:p,contextLoading:u,selectPicksState:k}=(0,l.Xn)(),[g,E]=(0,a.useState)([0,0,0,0,0]),[f,b]=(0,a.useState)(!0),[h,y]=(0,a.useState)(!1),[w,v]=(0,a.useState)([0,0,0,0,0]),[N,P]=(0,a.useState)(!1),[x,S]=(0,a.useState)(!1),[L,C]=(0,a.useState)(!1),[$,_]=(0,a.useState)(!1),[I,R]=(0,a.useState)(["1st","2nd","3rd","4th","5th"]);function A(e,t){v((n=>{const a=[...n];return a[e]=t,a}))}return(0,a.useEffect)((()=>{s("Loading..."),async function(){const t=await(0,o.i)(i.id,p.id);if(t.error)return e("There has been an error loading the selected picks"),void console.log(t.error);if(null!=t.userPicks){console.log(t);const e=t.userPicks.picks.sort(((e,t)=>e.position-t.position)).map((e=>e));console.log(e),v(e),null!=t.userPicks.independent_pick&&P(t.userPicks.independent_pick),null!=t.userPicks.rookie_pick&&C(t.userPicks.rookie_pick)}}(),b(!1),s(!1)}),[]),m?k?a.createElement("div",{className:"card mt-4 rounded-15 element-background-color element-border-color"},a.createElement("div",{className:"card-header d-flex justify-content-center"},a.createElement("h3",null,"Season: ",i.year)),a.createElement("div",{className:"card-body"},!f&&w.map(((e,t)=>1==g[t]?a.createElement("div",{className:"col d-flex justify-content-center",key:`${I[t]}-pick-dropdown-div`},a.createElement("div",{className:"card text-center mb-2"},a.createElement("div",{className:"card-header"},a.createElement("h5",{className:"card-title text-muted"},I[t]," Pick")),a.createElement("div",{className:"card-body",style:{padding:"8px"}},a.createElement("div",{className:"dropdown p-2"},a.createElement("button",{className:"btn btn-outline-danger dropdown-toggle",id:`${I[t]}-pick-button`,onClick:e=>(0,c.gR)(`${I[t]}-pick-dropdown`,e,m)},0!=w[t]&&a.createElement("span",null,w[t].first," ",w[t].last),0==w[t]&&a.createElement("span",null,I[t]," Pick")),a.createElement("ul",{className:"dropdown-menu",id:`${I[t]}-pick-dropdown`,style:{overflowY:"scroll",maxHeight:"15rem"}},d.map((e=>a.createElement("li",{key:`competitor-${e.competitor_id}`},a.createElement("a",{className:"dropdown-item",onClick:()=>{A(t,e)}},e.first," ",e.last))))))))):a.createElement("div",{className:"col d-flex justify-content-center",key:`${I[t]}-pick-dropdown-div`},a.createElement("div",{className:"card text-center mb-2"},a.createElement("div",{className:"card-header"},a.createElement("h5",{className:"card-title text-muted"},I[t]," Pick")),a.createElement("div",{className:"card-body",style:{padding:"8px"}},a.createElement("div",{className:"dropdown p-2"},a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",id:`${I[t]}-pick-button`,onClick:e=>(0,c.gR)(`${I[t]}-pick-dropdown`,e,m)},0!=w[t]&&a.createElement("span",null,w[t].first," ",w[t].last),0==w[t]&&a.createElement("span",null,I[t]," Pick")),a.createElement("ul",{className:"dropdown-menu",id:`${I[t]}-pick-dropdown`,style:{overflowY:"scroll",maxHeight:"15rem"}},d.map((e=>a.createElement("li",{key:`competitor-${e.competitor_id}`},a.createElement("a",{className:"dropdown-item",onClick:()=>{A(t,e)}},a.createElement("small",null,"#",e.number)," ",e.first," ",e.last))))))))))),!f&&i.top_independent&&a.createElement("div",{className:"col d-flex justify-content-center",key:"independent-pick-dropdown-div"},a.createElement("div",{className:"card text-center mb-2"},a.createElement("div",{className:"card-header"},a.createElement("h5",{className:"card-title text-muted"},"Independent Pick")),a.createElement("div",{className:"card-body",style:{padding:"8px"}},a.createElement("div",{className:"dropdown p-2"},1==x&&a.createElement("button",{className:"btn btn-outline-danger dropdown-toggle",id:"independent-pick-button",onClick:e=>(0,c.gR)("independent-pick-dropdown",e,m)},0!=N&&a.createElement("span",null,N.first," ",N.last),0==N&&a.createElement("span",null,"Independent Pick")),0==x&&a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",id:"independent-pick-button",onClick:e=>(0,c.gR)("independent-pick-dropdown",e,m)},0!=N&&a.createElement("span",null,N.first," ",N.last),0==N&&a.createElement("span",null,"Independent Pick")),a.createElement("ul",{className:"dropdown-menu",id:"independent-pick-dropdown",style:{overflowY:"scroll",maxHeight:"15rem"}},d.map((e=>e.independent&&a.createElement("li",{key:`competitor-${e.competitor_id}`},a.createElement("a",{className:"dropdown-item",onClick:()=>{P(e)}},a.createElement("small",null,"#",e.number)," ",e.first," ",e.last))))))))),!f&&i.top_rookie&&a.createElement("div",{className:"col d-flex justify-content-center",key:"rookie-pick-dropdown-div"},a.createElement("div",{className:"card text-center mb-2"},a.createElement("div",{className:"card-header"},a.createElement("h5",{className:"card-title text-muted"},"Rookie Pick")),a.createElement("div",{className:"card-body",style:{padding:"8px"}},a.createElement("div",{className:"dropdown p-2"},1==$&&a.createElement("button",{className:"btn btn-outline-danger dropdown-toggle",id:"rookie-pick-button",onClick:e=>(0,c.gR)("rookie-pick-dropdown",e,m)},0!=L&&a.createElement("span",null,L.first," ",L.last),0==L&&a.createElement("span",null,"Rookie Pick")),0==$&&a.createElement("button",{className:"btn btn-outline-secondary dropdown-toggle",id:"rookie-pick-button",onClick:e=>(0,c.gR)("rookie-pick-dropdown",e,m)},0!=L&&a.createElement("span",null,L.first," ",L.last),0==L&&a.createElement("span",null,"Rookie Pick")),a.createElement("ul",{className:"dropdown-menu",id:"rookie-pick-dropdown",style:{overflowY:"scroll",maxHeight:"15rem"}},d.map((e=>e.rookie&&a.createElement("li",{key:`competitor-${e.competitor_id}`},a.createElement("a",{className:"dropdown-item",onClick:()=>{C(e)}},a.createElement("small",null,"#",e.number)," ",e.first," ",e.last)))))))))),a.createElement("div",{className:"card-footer d-flex justify-content-center"},h&&a.createElement("button",{className:"btn btn-primary",disabled:!0},"Loading..."),!h&&a.createElement("button",{className:"btn btn-primary",onClick:()=>async function(){y(!0);let a=w.map((e=>e.competitor_id));const o=await(0,r.Et)(a,N.competitor_id,L.competitor_id);if(E([0,0,0,0,0]),_(!1),S(!1),y(!1),o.error)return e("There has been an error submiting the picks."),void console.log(o.error);if(201!==o.status){if(400===o.status){if(o.picksAlreadySelected)return void e("Another user already has the same picks and order.");if(o.invalidPicks){for(let t=0;t<o.invalidPicks.length;t++)!0===o.invalidPicks[t]&&e("Highlighted picks are invalid");!function(e){E((()=>[...e]))}(o.invalidPicks)}o.invalidIndependent&&(S(!0),t("Selected independent rider is not an independent rider")),o.invalidRookie&&(_(!0),t("Selected rookie is not rookie"))}}else n("The picks have been successfully submited.")}()},"Submit"))):a.createElement("div",null,"You can not select your picks at this moment."):a.createElement("div",null,"You need to be logged in to select your picks.")}},926:(e,t,n)=>{function a(e,t,n){let a,o={pageNumbers:[],nextPage:"",previousPage:""},l=Math.ceil(e/t),c=0;if(e%t==0&&l++,a=l,e<=t)return null;for(o.previousPage=n>1?"page-item":"page-item disabled",o.nextPage=n<l?"page-item":"page-item disabled",n>5&&(l>n+5?(c=n-5,a=n+5):(c=10-(l-n),a=c+10));c<a;c++)o.pageNumbers.push(c+1);return o}function o(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],o=atob(n[n.length-1]),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);return t=`${t}.${a.split("/")[1]}`,new File([c],t,{type:a})}function l(){return{width:window.innerWidth,height:window.innerHeight}}function c(){const e=document.getElementsByClassName("custom-modal"),t=document.getElementById("background-blur"),n=document.querySelectorAll('[data-category="input-field"]');Array.prototype.forEach.call(e,(e=>{e.classList.contains("hidden")||e.classList.toggle("hidden")})),Array.prototype.forEach.call(n,(e=>{"INPUT"===e.tagName?(e.value=null,e.checked=!1):e.innerHTML=""})),t.classList.contains("hidden")||t.classList.toggle("hidden")}function r(e,t,n,a){const o=document.getElementById(e),l=document.getElementById("background-blur");t.stopPropagation(),o.classList.contains("hidden")?void 0!==n&&!0!==n||void 0!==a&&!0!==a||(s(),c(),o.classList.toggle("hidden"),l.classList.toggle("hidden")):c()}function s(){const e=document.getElementsByClassName("dropdown-menu"),t=document.getElementsByClassName("menu-dropdown-content");Array.prototype.forEach.call(e,(e=>{e.classList.contains("show")&&e.classList.toggle("show")})),Array.prototype.forEach.call(t,(e=>{e.classList.contains("show")&&e.classList.toggle("show")}))}function i(e,t,n){t.stopPropagation();const a=document.getElementById(e);a.classList.contains("show")?s():(s(),null==e||null!=n&&1!=n||a.classList.toggle("show"))}function d(e,t){e.stopPropagation(),"Enter"==e.key&&(e.preventDefault(),t())}function m(e){const t=document.getElementById(e);t&&t.focus()}n.d(t,{Gd:()=>m,Tc:()=>s,X$:()=>a,Xz:()=>o,YK:()=>r,ac:()=>d,gR:()=>i,qT:()=>l,tI:()=>c})}}]);